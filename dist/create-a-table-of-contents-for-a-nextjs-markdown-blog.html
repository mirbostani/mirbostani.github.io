<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="My name is Seyed Morteza Mirbostani—a full stack software engineer by profession and creator by passion. Here is my blog, in which I write about my projects, experience, and interests in different areas of computer science, especially software engineering."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@mirbostani"/><meta name="twitter:creator" content="@mirbostani"/><meta property="og:title" content="Create a Table of Contents for a Next.js Markdown Blog"/><meta property="og:description" content="Build an auto-generated table of contents, which can highlight its items based on the current scrolling position"/><meta property="og:url" content="https://mirbostani.com/api/create-a-table-of-contents-for-a-nextjs-markdown-blog"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2022-05-24T00:00:00.000Z"/><meta property="article:author" content="https://mirbostani.com/api/about"/><meta property="article:tag" content="Web Development"/><meta property="article:tag" content="nextjs"/><meta property="article:tag" content="reactjs"/><meta property="og:image" content="https://mirbostani.com/api/og-image.png"/><meta property="og:image:alt" content="Seyed Morteza Mirbostani"/><meta property="og:image:width" content="460"/><meta property="og:image:height" content="460"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Seyed Morteza Mirbostani"/><link rel="canonical" href="https://mirbostani.com/api/create-a-table-of-contents-for-a-nextjs-markdown-blog"/><title>Create a Table of Contents for a Next.js Markdown Blog | Seyed Morteza Mirbostani</title><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="26"/><link rel="preload" href="/_next/static/css/417a84ff9af52701.css" as="style"/><link rel="stylesheet" href="/_next/static/css/417a84ff9af52701.css" data-n-g=""/><link rel="preload" href="/_next/static/css/1bdfa352808526ad.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1bdfa352808526ad.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/_next/static/chunks/main-5cdbf6252ce7b709.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b7e209cbf8806160.js" defer=""></script><script src="/_next/static/chunks/b5f2ed29-2255654ab160a0c4.js" defer=""></script><script src="/_next/static/chunks/840-ab037837e046e1a4.js" defer=""></script><script src="/_next/static/chunks/771-2b26c2e10e84e5a5.js" defer=""></script><script src="/_next/static/chunks/331-f457cf41e19b6d88.js" defer=""></script><script src="/_next/static/chunks/424-499187b01a293a68.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-2bbf27c9315649aa.js" defer=""></script><script src="/_next/static/4WMylZox7I6zFz0827QJi/_buildManifest.js" defer=""></script><script src="/_next/static/4WMylZox7I6zFz0827QJi/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="flex flex-col h-screen  sk-post sk-layout"><div class="flex flex-col flex-grow dark:bg-gray-700 dark:text-white"><div class="h-20"><header class="header sk-header bg-gray-100 dark:bg-gray-800 sticky top-0 z-50"><div class="max-w-5xl container mx-auto px-4 lg:px-16 xl:px-24 py-3 space-y-4 lg:space-y-0 lg:flex lg:items-center lg:justify-between lg:space-x-10"><div class="flex justify-between"><div class="flex flex-row"><a class="flex flex-row items-center space-x-3" href="/"><div class="flex rounded-md overflow-hidden border border-gray-100 dark:border-gray-800"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2754%27%20height=%2754%27/%3e"/></span><img alt="Seyed Morteza Mirbostani" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Seyed Morteza Mirbostani" src="/mirbostani/thumb.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div><h1 class="text-2xl font-extrabold dark:text-white">Seyed Morteza Mirbostani</h1><h4>Full Stack Engineer &amp; NLP/CL Researcher</h4></div></a></div><div class="flex items-center space-x-2 lg:hidden"><button class="p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 focus:bg-gray-100 dark:focus:bg-gray-800 focus:outline-none"><svg viewBox="0 0 20 20" fill="currentColor" class="w-6 h-6 text-gray-700 dark:text-gray-300"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button></div></div><div class="flex flex-col space-y-4 lg:hidden" style="display:none"><div class="flex flex-col space-y-3 lg:space-y-0 lg:flex-row lg:space-x-6 xl:space-x-8 lg:items-center mx-4"><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/">Home</a><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/blog">Blog</a></div></div><div class="hidden lg:flex lg:flex-row lg:items-center lg:justify-end lg:flex-1 lg:space-x-2"><div class="flex flex-col space-y-3 lg:space-y-0 lg:flex-row lg:space-x-6 xl:space-x-8 lg:items-center mx-4"><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/">Home</a><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/blog">Blog</a></div></div></div></header></div><main class="sk-main max-w-5xl container mx-auto flex flex-col lg:flex-row lg:space-x-8 flex-grow px-4 lg:px-16 xl:px-24 py-10"><section class="sk-section flex flex-col lg:flex-grow"><div class="post"><h1 class="title">Create a Table of Contents for a Next.js Markdown Blog</h1><p class="description">Build an auto-generated table of contents, which can highlight its items based on the current scrolling position</p><div class="meta"><div><div class="flex flex-row items-center text-sm text-gray-500 dark:text-gray-400"><time dateTime="2022-05-24">May 24, 2022</time><div class="flex items-center"><span class="mx-2 text-gray-400">·</span><p class="text-sm text-gray-500 dark:text-gray-400">22<!-- --> min read</p></div></div></div></div><div class="tags"><span><span class="flex flex-row space-x-2"><a class="inline-block text-gray-500 dark:text-gray-400" href="/categories/Web%20Development">Web Development</a><a class="inline-block text-gray-500 dark:text-gray-400" href="/tags/nextjs">#nextjs</a><a class="inline-block text-gray-500 dark:text-gray-400" href="/tags/reactjs">#reactjs</a></span></span></div><div class="content"><aside class="sidebar"><div class="toc bg-gray-100 dark:bg-gray-800"><h1 class="title text-gray-600 dark:text-gray-300">Table of Contents</h1><ul class="body"><li id="toc-introduction" class="mx-1 toc-anchor"><a href="#introduction">Introduction</a></li><li id="toc-create_a_next_js_app" class="mx-1 toc-anchor"><a href="#create_a_next_js_app">Create a Next.js App</a></li><li id="toc-add__posts__page" class="mx-1 toc-anchor"><a href="#add__posts__page">Add &quot;Posts&quot; Page</a></li><li id="toc-parse_markdown_files" class="mx-1 toc-anchor"><a href="#parse_markdown_files">Parse Markdown Files</a></li><li id="toc-start_dev_server" class="mx-1 toc-anchor"><a href="#start_dev_server">Start Dev Server</a></li><li id="toc-apply_styles" class="mx-1 toc-anchor"><a href="#apply_styles">Apply Styles</a></li><li id="toc-add_blog_page" class="mx-1 toc-anchor"><a href="#add_blog_page">Add Blog Page</a></li><li id="toc-view_blog_post" class="mx-1 toc-anchor"><a href="#view_blog_post">View Blog Post</a></li><li id="toc-render_markdown" class="mx-1 toc-anchor"><a href="#render_markdown">Render Markdown</a></li><li id="toc-create_toc_widget" class="mx-1 toc-anchor"><a href="#create_toc_widget">Create ToC Widget</a></li><li id="toc-active_toc_items" class="mx-1 toc-anchor"><a href="#active_toc_items">Active ToC Items</a></li><li id="toc-conclusion" class="mx-1 toc-anchor"><a href="#conclusion">Conclusion</a></li></ul></div></aside><article class="article sk-post-content"><a id="introduction" class="heading-anchor"></a><h2>Introduction</h2>
<p>With all the available features offered in Next.js, you can easily create a full-fledged blog with markdown and Latex support. It enables you to write the articles in a markdown file and publish them statically. The blog pages will be generated based on the name of the markdown files, their YAML metadata, and content. Each markdown file is an article that will be rendered as an HTML page. However, to easily navigate through the page, we need a dynamic table of contents that enables us to jump to a specific heading and shows the current position in the article. In this article, we are going to build an auto-generated table of contents based on the headings of a markdown file. The output results will be as follows:</p>
<p><img src="/post/20220524/screenshot.gif" alt="Next.js Markdown Blog with ToC support"/></p>
<p>To view the full source code, you can visit <a href="https://github.com/mirbostani/nextjs-markdown-blog-with-toc">nextjs-markdown-blog-with-toc</a> or clone the repository:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> clone https://github.com/mirbostani/nextjs-markdown-blog-with-toc
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> nextjs-markdown-blog-with-toc
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> run dev</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> clone https://github.com/mirbostani/nextjs-markdown-blog-with-toc
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> nextjs-markdown-blog-with-toc
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> run dev</span></code></div></pre>
<a id="create_a_next_js_app" class="heading-anchor"></a><h2>Create a Next.js App</h2>
<p>The initial step is to create a Next.js project. First, make a new directory and navigate to it. Use the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">create-next-app</code> tool to initialize a Next.js project and install dependencies.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">mkdir</span><span> nextjs-markdown-blog-with-toc </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#DD4A68">cd</span><span> nextjs-markdown-blog-with-toc
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ npx create-next-app </span><span class="token" style="color:#DD4A68">.</span><span> --use-npm</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">mkdir</span><span> nextjs-markdown-blog-with-toc </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#DD4A68">cd</span><span> nextjs-markdown-blog-with-toc
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ npx create-next-app </span><span class="token" style="color:#DD4A68">.</span><span> --use-npm</span></code></div></pre>
<p>If you haven&#x27;t already had <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">create-next-app</code> on your system, install this CLI tool with <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">npm</code>.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> i create-next-app</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> i create-next-app</span></code></div></pre>
<a id="add__posts__page" class="heading-anchor"></a><h2>Add &quot;Posts&quot; Page</h2>
<p>First, we want to show a list of articles containing titles, descriptions, the author&#x27;s name, and the publish date. Therefore, we need a top-level page to present this list. A suitable route would be <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000/posts</code>. To add it to the website, create the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts.js</code> file.</p>
<p>Every <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">.js</code> file inside the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages</code> directory maps to a route on your website.</p>
<p>Inside the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts.js</code> file, write a function named <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Posts</code> and export it as the default component. <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Posts</code> receives <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">props.posts</code> as the input parameter that is an array of objects. Each object is associated with a single markdown file, i.e., a single blog post. Every post has a slug, which is the last part of the URL of the post, a title, description, author&#x27;s name, and a publish date.</p>
<p>By iterating over the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts</code> array with the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Array.prototype.map()</code> function, we can create a list of blog posts containing the blog title and description along with its metadata. Each blog post is wrapped around a <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;Link&gt;</code> component. It lets you navigate to different pages inside your website. Viewers of the website should be able to browse any blog post by simply clicking on it in the list. Therefore, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">href</code> attribute of the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;Link&gt;</code> is set to <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">/posts/&lt;slug&gt;</code>. Additionally, due to the uniqueness of the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">slug</code> we can use it as the value of the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">key</code> attribute for <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">map</code>&#x27;s returned components. This <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">key</code> is mandatory for React.js to be able to determine the changes in the components of an array.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">Link</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;next/link&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Posts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> posts </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>      </span><span class="token" style="color:#999">{</span><span>posts</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        posts</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> title</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> description</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> author</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> date </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>            </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">Link</span><span> key</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>slug</span><span class="token" style="color:#999">}</span><span> href</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">/posts/</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">slug</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;card&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>                  </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>                  </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>            </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">Link</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>          </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>        </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">Link</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;next/link&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Posts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> posts </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>      </span><span class="token" style="color:#999">{</span><span>posts</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        posts</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> title</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> description</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> author</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> date </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>            </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">Link</span><span> key</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>slug</span><span class="token" style="color:#999">}</span><span> href</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">/posts/</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">slug</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;card&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>                  </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>                  </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>                </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>            </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">Link</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>          </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>        </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>To populate <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">props.posts</code> of the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Posts</code> component with the data associated with the markdown files, we can make use of <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getStaticProps()</code> method of the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts.js</code> page. On website&#x27;s static built, it returns the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">props</code> object and passes it to the default component of the page, i.e., the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Posts</code> function. Inside, we call a function named <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPosts()</code> to retrieve posts&#x27; data.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">Link</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;next/link&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> getPosts </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../libs/posts&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticProps</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token" style="color:#07a">const</span><span> posts </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">page</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">,</span><span> </span><span class="token literal-property" style="color:#905">limit</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">10</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>    </span><span class="token literal-property" style="color:#905">props</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>      posts</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Posts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> posts </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">Link</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;next/link&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> getPosts </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../libs/posts&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticProps</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token" style="color:#07a">const</span><span> posts </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">page</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">,</span><span> </span><span class="token literal-property" style="color:#905">limit</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">10</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>    </span><span class="token literal-property" style="color:#905">props</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>      posts</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Posts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> posts </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span></code></div></pre>
<a id="parse_markdown_files" class="heading-anchor"></a><h2>Parse Markdown Files</h2>
<p>Functions related to the data retrieval are in the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">lib/posts.js</code> file. We define the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPosts()</code> function inside it. This function reads all the markdown files inside a specified directory (<code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">./posts/*.md</code>), parses the files&#x27; content to extract the metadata in YAML format, and applies a pagination mechanism.</p>
<p>A simple example of a markdown file with front matter is as follows:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token front-matter-block" style="color:#999">---</span><span class="token front-matter-block">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml">title: &quot;How to create a Next.js App&quot;
</span><span class="token front-matter-block front-matter yaml language-yaml"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span>description: &quot;In this post you will learn how to create a Next.js application&quot;
</span><span class="token front-matter-block front-matter yaml language-yaml"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>date: &quot;2022-05-24&quot;
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span class="token front-matter-block front-matter yaml language-yaml">author: &quot;mirbostani&quot;</span><span class="token front-matter-block">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span class="token front-matter-block"></span><span class="token front-matter-block" style="color:#999">---</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token title" style="color:#999;font-weight:bold">##</span><span class="token title" style="color:#e90;font-weight:bold"> Introduction</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>Next.js is an open-source web development framework.
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span>...</code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token front-matter-block" style="color:#999">---</span><span class="token front-matter-block">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml">title: &quot;How to create a Next.js App&quot;
</span><span class="token front-matter-block front-matter yaml language-yaml"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span>description: &quot;In this post you will learn how to create a Next.js application&quot;
</span><span class="token front-matter-block front-matter yaml language-yaml"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>date: &quot;2022-05-24&quot;
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span class="token front-matter-block front-matter yaml language-yaml">author: &quot;mirbostani&quot;</span><span class="token front-matter-block">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span class="token front-matter-block"></span><span class="token front-matter-block" style="color:#999">---</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token title" style="color:#999;font-weight:bold">##</span><span class="token title" style="color:#e90;font-weight:bold"> Introduction</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>Next.js is an open-source web development framework.
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span>...</code></div></pre>
<p>To parse YAML front matter, we use <a href="https://www.npmjs.com/package/gray-matter">gray-matter</a> package.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> --save gray-matter</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> --save gray-matter</span></code></div></pre>
<p>As the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">*.md</code> files are placed inside the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts</code> directory, we resolve the path using <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">path.resolve(&quot;posts&quot;)</code>. We read the file names synchronously with <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">fs.readdirSync()</code>.</p>
<p>The file name without the trailing <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">.md</code> string is the slug. We read the file content by <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">fs.readFileSync()</code> and parse the content with the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">matter</code> function. We use the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">matter(content).data</code> object to get the returned values. These properties are stored in the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts</code> array. Each post object contains slug, content in markdown, metadata, and other properties.</p>
<p>Before returning the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts</code> array, we call the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Array.prototype.sort()</code> method to sort the data based on the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">date</code> metadata.</p>
<p>The last line implements pagination based on the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">page</code> and <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">limit</code> parameters.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// libs/posts.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">fs</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:fs&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">path</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:path&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> matter</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;gray-matter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> page</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> limit </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">??</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  limit </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> limit </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">??</span><span> </span><span class="token" style="color:#905">10</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:slategray">// Read the markdown files (`posts/*.md`) </span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#07a">const</span><span> fileNames </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readdirSync</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:slategray">// Prepare posts containing slug, content, and metadata</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#07a">let</span><span> posts </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileNames</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">fileName</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token" style="color:#07a">const</span><span> slug </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileName</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\.md$</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-flags" style="color:#e90">i</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>    </span><span class="token" style="color:#07a">const</span><span> filePath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">,</span><span> fileName</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>    </span><span class="token" style="color:#07a">const</span><span> content </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readFileSync</span><span class="token" style="color:#999">(</span><span>filePath</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">encoding</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;utf-8&quot;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#07a">const</span><span> matterObject </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">matter</span><span class="token" style="color:#999">(</span><span>content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>      slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>      </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">data</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>  </span><span class="token" style="color:slategray">// Sort posts based on `date`</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span>  posts
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">sort</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> </span><span class="token parameter literal-property" style="color:#905">date</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> a </span><span class="token parameter" style="color:#999">}</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> </span><span class="token parameter literal-property" style="color:#905">date</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> b </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>a </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> b</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>      </span><span class="token control-flow" style="color:#07a">else</span><span> </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>a </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span> b</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>      </span><span class="token control-flow" style="color:#07a">else</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">reverse</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>  </span><span class="token" style="color:slategray">// Pagination</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> posts</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">slice</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span>page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span> limit</span><span class="token" style="color:#999">,</span><span> page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span> limit</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// libs/posts.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">fs</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:fs&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">path</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:path&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> matter</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;gray-matter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> page</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> limit </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">??</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  limit </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> limit </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">??</span><span> </span><span class="token" style="color:#905">10</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:slategray">// Read the markdown files (`posts/*.md`) </span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#07a">const</span><span> fileNames </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readdirSync</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:slategray">// Prepare posts containing slug, content, and metadata</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#07a">let</span><span> posts </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileNames</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">fileName</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token" style="color:#07a">const</span><span> slug </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileName</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\.md$</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-flags" style="color:#e90">i</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>    </span><span class="token" style="color:#07a">const</span><span> filePath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">,</span><span> fileName</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>    </span><span class="token" style="color:#07a">const</span><span> content </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readFileSync</span><span class="token" style="color:#999">(</span><span>filePath</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">encoding</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;utf-8&quot;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#07a">const</span><span> matterObject </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">matter</span><span class="token" style="color:#999">(</span><span>content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>      slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>      </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">data</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>  </span><span class="token" style="color:slategray">// Sort posts based on `date`</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span>  posts
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">sort</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> </span><span class="token parameter literal-property" style="color:#905">date</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> a </span><span class="token parameter" style="color:#999">}</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> </span><span class="token parameter literal-property" style="color:#905">date</span><span class="token parameter" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span class="token parameter"> b </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>a </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> b</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>      </span><span class="token control-flow" style="color:#07a">else</span><span> </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>a </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span> b</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>      </span><span class="token control-flow" style="color:#07a">else</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">reverse</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>  </span><span class="token" style="color:slategray">// Pagination</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> posts</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">slice</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span>page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span> limit</span><span class="token" style="color:#999">,</span><span> page </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span> limit</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<a id="start_dev_server" class="heading-anchor"></a><h2>Start Dev Server</h2>
<p>Run the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">next dev -p 3000</code> command to start the development server. It is assigned to the NPM&#x27;s <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">dev</code> script in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">package.json</code> file.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> run dev</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> run dev</span></code></div></pre>
<p>Navigate to <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000/posts</code> in your favorite browser.</p>
<a id="apply_styles" class="heading-anchor"></a><h2>Apply Styles</h2>
<p>Add the following CSS rules to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">styles/global.css</code> file:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">/* styles/globals.css */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token pseudo-class" style="color:#690">:root</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">:</span><span> </span><span class="token color">gray</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>  </span><span class="token" style="color:#e90">--hover-color</span><span class="token" style="color:#999">:</span><span> </span><span class="token hexcode color">#f7f7f7</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token class" style="color:#690">.posts</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span> auto</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>  </span><span class="token" style="color:#905">max-width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1024</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:#905">border</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">px</span><span> solid </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span></span><span class="token class" style="color:#690">.card</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#905">padding</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">rem</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#905">cursor</span><span class="token" style="color:#999">:</span><span> pointer</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span></span><span class="token class" style="color:#690">.card</span><span class="token pseudo-class" style="color:#690">:hover</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>  </span><span class="token" style="color:#905">background-color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--hover-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span></span><span class="token class" style="color:#690">.card</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.desc</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span></span><span class="token class" style="color:#690">.card</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.meta</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>  </span><span class="token" style="color:#905">gap</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">16</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>  </span><span class="token" style="color:#905">color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">/* styles/globals.css */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token pseudo-class" style="color:#690">:root</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">:</span><span> </span><span class="token color">gray</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>  </span><span class="token" style="color:#e90">--hover-color</span><span class="token" style="color:#999">:</span><span> </span><span class="token hexcode color">#f7f7f7</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token class" style="color:#690">.posts</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span> auto</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>  </span><span class="token" style="color:#905">max-width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1024</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:#905">border</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">px</span><span> solid </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span></span><span class="token class" style="color:#690">.card</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#905">padding</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">rem</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#905">cursor</span><span class="token" style="color:#999">:</span><span> pointer</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span></span><span class="token class" style="color:#690">.card</span><span class="token pseudo-class" style="color:#690">:hover</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>  </span><span class="token" style="color:#905">background-color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--hover-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span></span><span class="token class" style="color:#690">.card</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.desc</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span></span><span class="token class" style="color:#690">.card</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.meta</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>  </span><span class="token" style="color:#905">gap</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">16</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>  </span><span class="token" style="color:#905">color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>The class names are added to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Posts</code> component&#x27;s children in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts.js</code> using the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">className</code> attribute. The following output will be displayed on your browser.</p>
<p><img src="/post/20220524/posts-list.png" alt="Posts list"/></p>
<a id="add_blog_page" class="heading-anchor"></a><h2>Add Blog Page</h2>
<p>Create the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts/[slug].js</code> file. The <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Post</code> component receives two parameters: <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">slug</code> and <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">post</code>. They are populated by the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getStaticProps()</code> method. When a URL like <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000/posts/&lt;slug&gt;</code> is opened in a browser, the value of <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;slug&gt;</code> part of the URL will be accessible in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getStaticProps()</code> using <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">props.params.slug</code> variable.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts/[slug].js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> getPost</span><span class="token imports" style="color:#999">,</span><span class="token imports"> getPostsSlugs </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../../libs/posts&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticPaths</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>  </span><span class="token" style="color:#07a">const</span><span> paths </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">getPostsSlugs</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>    paths</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>    </span><span class="token literal-property" style="color:#905">fallback</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">false</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticProps</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> params </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#07a">const</span><span> slug </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> params</span><span class="token" style="color:#999">.</span><span class="token property-access">slug</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#07a">const</span><span> post </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token control-flow" style="color:#07a">await</span><span> </span><span class="token" style="color:#DD4A68">getPost</span><span class="token" style="color:#999">(</span><span>slug</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token literal-property" style="color:#905">props</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>      slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>      post</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;post&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;content&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">contentMarkdown</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts/[slug].js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> getPost</span><span class="token imports" style="color:#999">,</span><span class="token imports"> getPostsSlugs </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../../libs/posts&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticPaths</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>  </span><span class="token" style="color:#07a">const</span><span> paths </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">getPostsSlugs</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>    paths</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>    </span><span class="token literal-property" style="color:#905">fallback</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">false</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticProps</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> params </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#07a">const</span><span> slug </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> params</span><span class="token" style="color:#999">.</span><span class="token property-access">slug</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#07a">const</span><span> post </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token control-flow" style="color:#07a">await</span><span> </span><span class="token" style="color:#DD4A68">getPost</span><span class="token" style="color:#999">(</span><span>slug</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token literal-property" style="color:#905">props</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>      slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>      post</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;post&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;content&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">contentMarkdown</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>Define <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPost()</code> and <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPostsSlugs()</code> methods in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">libs/posts.js</code>. In <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPosts()</code>, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">slug</code> is valid through the passed parameter. We use it to open the markdown file with the same base name, parse its content, and return it along with <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">slug</code> and other metadata.</p>
<p>Here, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPostsSlugs()</code> is responsible for providing all the available slugs. They are used in Next.js to build the static website&#x27;s internal links. We iterate over all the file names, extract, and return the slugs.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">fs</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:fs&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">path</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:path&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> matter</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;gray-matter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> page</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> limit </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPost</span><span class="token" style="color:#999">(</span><span class="token parameter">slug</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  </span><span class="token" style="color:#07a">const</span><span> filePath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">,</span><span> </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">slug</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690">.md</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>  </span><span class="token" style="color:#07a">const</span><span> content </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readFileSync</span><span class="token" style="color:#999">(</span><span>filePath</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">encoding</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;utf-8&quot;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:#07a">const</span><span> matterObject </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">matter</span><span class="token" style="color:#999">(</span><span>content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>    slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>    </span><span class="token literal-property" style="color:#905">contentMarkdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">content</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>    </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">data</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPostsSlugs</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#07a">const</span><span> fileNames </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readdirSync</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> fileNames</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">fileName</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#07a">const</span><span> slug </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileName</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\.md</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>      </span><span class="token literal-property" style="color:#905">params</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>        slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>      </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">fs</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:fs&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">path</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:path&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> matter</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;gray-matter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> page</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> limit </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPost</span><span class="token" style="color:#999">(</span><span class="token parameter">slug</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  </span><span class="token" style="color:#07a">const</span><span> filePath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">,</span><span> </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">slug</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690">.md</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>  </span><span class="token" style="color:#07a">const</span><span> content </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readFileSync</span><span class="token" style="color:#999">(</span><span>filePath</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">encoding</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;utf-8&quot;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:#07a">const</span><span> matterObject </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">matter</span><span class="token" style="color:#999">(</span><span>content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>    slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>    </span><span class="token literal-property" style="color:#905">contentMarkdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">content</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>    </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">data</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPostsSlugs</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#07a">const</span><span> fileNames </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readdirSync</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> fileNames</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">fileName</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#07a">const</span><span> slug </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fileName</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\.md</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>      </span><span class="token literal-property" style="color:#905">params</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>        slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>      </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<a id="view_blog_post" class="heading-anchor"></a><h2>View Blog Post</h2>
<p>To check if the functions are working properly, navigate to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000/posts/&lt;slug&gt;</code> link in which <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;slug&gt;</code> is the base name of a markdown file. For example, if your file is located in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts/how-to-create-a-nextjs-app.md</code>, open the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000/posts/how-to-create-a-nextjs-app</code> URL.</p>
<p>In files&#x27; path, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts</code> refers to a local directory; however, in URLs, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">posts</code> refers to the directory located in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts</code>.</p>
<p><img src="/post/20220524/post-raw.png" alt="Raw blog post"/></p>
<p>Now apply some styles by modifying <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">styles/global.css</code> and adding the following classes.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token class" style="color:#690">.post</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1024</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span> auto</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token class" style="color:#690">.desc</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token class" style="color:#690">.meta</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#905">gap</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">16</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#905">color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span></span><span class="token class" style="color:#690">.content</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>    </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token class" style="color:#690">.post</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1024</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span> auto</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token class" style="color:#690">.desc</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token class" style="color:#690">.meta</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#905">gap</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">16</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#905">color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span></span><span class="token class" style="color:#690">.content</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>    </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>If your dev server is running, you will see the changes instantaneously.</p>
<p><img src="/post/20220524/post-styled.png" alt="Styled blog post"/></p>
<a id="render_markdown" class="heading-anchor"></a><h2>Render Markdown</h2>
<p>As you can see, the markdown content is displayed as plain text. We need some tools to convert it to a proper HTML format. Install the following packages in your project:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> --save react-markdown remark-math rehype-katex react-syntax-highlighter</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> --save react-markdown remark-math rehype-katex react-syntax-highlighter</span></code></div></pre>
<p>Create a <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Markdown</code> component in the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">components/markdown.js</code> file. This component is a wrapper for <a href="https://www.npmjs.com/package/react-markdown"><code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">ReactMarkdown</code></a> component, which is responsible for converting markdown to HTML.</p>
<p>To support rendering mathematic formulas on the website, we use the <a href="https://www.npmjs.com/package/remark-math">remark-math</a> and <a href="https://www.npmjs.com/package/rehype-katex">rehype-katex</a> packages.</p>
<p><code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">ReactMarkdown</code> has a <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">components</code> attribute. You can pass a function to access HTML tags and add features. To highlight the code, first, we access the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;code&gt;</code> tag inside the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">components()</code> function. We filter the ones with the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">language-*</code> class, for example, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">language-js</code>. Then, we wrap it with the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">SyntaxHighlighter</code> component, passing Prism style, setting the language, enabling line numbers, passing the children, etc. However, when there is no match in the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">language-*</code> CSS class search, we return a plain <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;code&gt;</code> tag accordingly.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// components/markdown.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">ReactMarkdown</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react-markdown&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:slategray">// Math support</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">remarkMath</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;remark-math&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">rehypeKatex</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;rehype-katex&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token" style="color:#690">&quot;katex/dist/katex.min.css&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token" style="color:slategray">// Syntax highlighting support</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Prism</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> </span><span class="token imports maybe-class-name">SyntaxHighlighter</span><span class="token imports"> </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react-syntax-highlighter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> prism </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> </span><span class="token imports maybe-class-name">LightStyle</span><span class="token imports"> </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react-syntax-highlighter/dist/cjs/styles/prism&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span></span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">components</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>    </span><span class="token" style="color:#DD4A68">code</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>      </span><span class="token" style="color:#07a">const</span><span> match </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">language-(\w+)</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">exec</span><span class="token" style="color:#999">(</span><span>className </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">||</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>inline </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> match </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>        </span><span class="token" style="color:slategray">// Highlighted code</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">SyntaxHighlighter</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>            style</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token maybe-class-name">LightStyle</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>            language</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>match</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>            </span><span class="token maybe-class-name">PreTag</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;div&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>            </span><span class="token" style="color:slategray">// eslint-disable-next-line react/no-children-prop</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>            children</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token known-class-name" style="color:#DD4A68">String</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\n$</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>            showLineNumbers</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>            customStyle</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>              </span><span class="token literal-property" style="color:#905">backgroundColor</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;rgba(245, 245, 245, 1)&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>              </span><span class="token literal-property" style="color:#905">opacity</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;1&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>            </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>            codeTagProps</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>              </span><span class="token literal-property" style="color:#905">style</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>                </span><span class="token literal-property" style="color:#905">backgroundColor</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;transparent&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>              </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>            </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>            </span><span class="token" style="color:#999">{</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>props</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>      </span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>        </span><span class="token" style="color:slategray">// Plain code</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>code </span><span class="token" style="color:#999">{</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>props</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>          </span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>code</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span></span><span class="token" style="color:slategray">// Wrapper for ReactMarkdown</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Markdown</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> children </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">ReactMarkdown</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>      remarkPlugins</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">[</span><span>remarkMath</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span>      rehypePlugins</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">[</span><span>rehypeKatex</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span><span>      components</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#DD4A68">components</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span><span>      </span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">ReactMarkdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">60</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">61</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// components/markdown.js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">ReactMarkdown</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react-markdown&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:slategray">// Math support</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">remarkMath</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;remark-math&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">rehypeKatex</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;rehype-katex&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token" style="color:#690">&quot;katex/dist/katex.min.css&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token" style="color:slategray">// Syntax highlighting support</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Prism</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> </span><span class="token imports maybe-class-name">SyntaxHighlighter</span><span class="token imports"> </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react-syntax-highlighter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> prism </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> </span><span class="token imports maybe-class-name">LightStyle</span><span class="token imports"> </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react-syntax-highlighter/dist/cjs/styles/prism&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span></span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">components</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>    </span><span class="token" style="color:#DD4A68">code</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>      </span><span class="token" style="color:#07a">const</span><span> match </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">language-(\w+)</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">exec</span><span class="token" style="color:#999">(</span><span>className </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">||</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>inline </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> match </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>        </span><span class="token" style="color:slategray">// Highlighted code</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">SyntaxHighlighter</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>            style</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token maybe-class-name">LightStyle</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>            language</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>match</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>            </span><span class="token maybe-class-name">PreTag</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;div&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>            </span><span class="token" style="color:slategray">// eslint-disable-next-line react/no-children-prop</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>            children</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token known-class-name" style="color:#DD4A68">String</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\n$</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>            showLineNumbers</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>            customStyle</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>              </span><span class="token literal-property" style="color:#905">backgroundColor</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;rgba(245, 245, 245, 1)&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>              </span><span class="token literal-property" style="color:#905">opacity</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;1&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>            </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>            codeTagProps</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>              </span><span class="token literal-property" style="color:#905">style</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>                </span><span class="token literal-property" style="color:#905">backgroundColor</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;transparent&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>              </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>            </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>            </span><span class="token" style="color:#999">{</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>props</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>      </span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>        </span><span class="token" style="color:slategray">// Plain code</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>code </span><span class="token" style="color:#999">{</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>props</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>          </span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>code</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span></span><span class="token" style="color:slategray">// Wrapper for ReactMarkdown</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Markdown</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> children </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">ReactMarkdown</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>      remarkPlugins</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">[</span><span>remarkMath</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span>      rehypePlugins</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">[</span><span>rehypeKatex</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span><span>      components</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token" style="color:#DD4A68">components</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span><span>      </span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">ReactMarkdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">60</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">61</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>Now use <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Markdown</code> by updating the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Post</code> component in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts/[slug].js</code>. Pass <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">post.contentMarkdown</code> to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Markdown</code> component as a child.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;post&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>article className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;content&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">contentMarkdown</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>article</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;post&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>article className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;content&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">contentMarkdown</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>article</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>Here is an example:</p>
<p><img src="/post/20220524/code-math-in-markdown.png" alt="Code and Math in Markdown"/></p>
<a id="create_toc_widget" class="heading-anchor"></a><h2>Create ToC Widget</h2>
<p>In this step, we want to create an auto-generated table of contents based on the headings available in the markdown file of the article. The following packages are required:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> --save remark remark-html jsdom</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> --save remark remark-html jsdom</span></code></div></pre>
<p>Modify the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">libs/posts.js</code> file by adding the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getHeadingAnchors()</code> function to it. In <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPost()</code> method, we use <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">remark()</code> to parse the markdown content to HTML. Then, we pass it to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getHeadingAnchors()</code> function, which is responsible for finding all the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;h1&gt;</code>, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;h2&gt;</code>, and <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;h3&gt;</code> tags, creating an ID based on the text content of the tag, and return the heading&#x27;s type (<code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">heading</code>), title (<code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">title</code>), and prepared ID (<code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">anchorId</code>). Finally, <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getPost()</code> returns the heading anchors along with other properties.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">fs</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:fs&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">path</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:path&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> matter</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;gray-matter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> remark </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;remark&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">remarkHtml</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;remark-html&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">jsdom</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;jsdom&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> page</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> limit </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPost</span><span class="token" style="color:#999">(</span><span class="token parameter">slug</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#07a">const</span><span> filePath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">,</span><span> </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">slug</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690">.md</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#07a">const</span><span> content </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readFileSync</span><span class="token" style="color:#999">(</span><span>filePath</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">encoding</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;utf-8&quot;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#07a">const</span><span> matterObject </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">matter</span><span class="token" style="color:#999">(</span><span>content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>  </span><span class="token" style="color:slategray">// Get heading anchors</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>  </span><span class="token" style="color:#07a">const</span><span> processedContent </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token control-flow" style="color:#07a">await</span><span> </span><span class="token" style="color:#DD4A68">remark</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">use</span><span class="token" style="color:#999">(</span><span>remarkHtml</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">process</span><span class="token" style="color:#999">(</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#07a">const</span><span> contentHtml </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> processedContent</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toString</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> headingAnchors</span><span class="token" style="color:#999">,</span><span> contentHtmlWithAnchors </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#DD4A68">getHeadingAnchors</span><span class="token" style="color:#999">(</span><span>contentHtml</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>    slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>    headingAnchors</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:slategray">// return the anchors</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>    </span><span class="token literal-property" style="color:#905">contentMarkdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">content</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>    </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">data</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span></span><span class="token" style="color:slategray">// Find and return anchors based on headings</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span></span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getHeadingAnchors</span><span class="token" style="color:#999">(</span><span class="token parameter">str</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>  </span><span class="token" style="color:#07a">const</span><span> headingAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>  </span><span class="token" style="color:#07a">const</span><span> dom </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#DD4A68">jsdom</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">JSDOM</span><span class="token" style="color:#999">(</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">&lt;div id=&quot;headinganchors&quot;&gt;</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">str</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690">&lt;/div&gt;</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>  dom</span><span class="token" style="color:#999">.</span><span class="token property-access">window</span><span class="token" style="color:#999">.</span><span class="token property-access">document</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelectorAll</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;h1, h2, h3&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">forEach</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">hx</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>    </span><span class="token" style="color:#07a">const</span><span> id </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> hx</span><span class="token" style="color:#999">.</span><span class="token property-access">textContent</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toLowerCase</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\s+|[^a-z0-9]</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-flags" style="color:#e90">g</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;_&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>    </span><span class="token" style="color:#07a">const</span><span> anchor </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> dom</span><span class="token" style="color:#999">.</span><span class="token property-access">window</span><span class="token" style="color:#999">.</span><span class="token property-access">document</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">createElement</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;a&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>    anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">id</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> id</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>    hx</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">insertBefore</span><span class="token" style="color:#999">(</span><span>anchor</span><span class="token" style="color:#999">,</span><span> </span><span class="token null nil" style="color:#07a">null</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>    headingAnchors</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">push</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>      </span><span class="token literal-property" style="color:#905">heading</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> hx</span><span class="token" style="color:#999">.</span><span class="token property-access">nodeName</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toLowerCase</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>      </span><span class="token literal-property" style="color:#905">title</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> hx</span><span class="token" style="color:#999">.</span><span class="token property-access">textContent</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>      </span><span class="token literal-property" style="color:#905">anchorId</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> id</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span><span>  </span><span class="token" style="color:#07a">const</span><span> contentHtmlWithAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span>    dom</span><span class="token" style="color:#999">.</span><span class="token property-access">window</span><span class="token" style="color:#999">.</span><span class="token property-access">document</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">getElementById</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;headinganchors&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token property-access">innerHTML</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>    headingAnchors</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>    contentHtmlWithAnchors</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">fs</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:fs&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">path</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;node:path&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span class="token imports"> </span><span class="token imports module" style="color:#07a">as</span><span class="token imports"> matter</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;gray-matter&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> remark </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;remark&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">remarkHtml</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;remark-html&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports">jsdom</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;jsdom&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPosts</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> page</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> limit </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getPost</span><span class="token" style="color:#999">(</span><span class="token parameter">slug</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#07a">const</span><span> dirPath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">resolve</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;posts&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#07a">const</span><span> filePath </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> path</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span>dirPath</span><span class="token" style="color:#999">,</span><span> </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">slug</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690">.md</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token" style="color:#07a">const</span><span> content </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> fs</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">readFileSync</span><span class="token" style="color:#999">(</span><span>filePath</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token literal-property" style="color:#905">encoding</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;utf-8&quot;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#07a">const</span><span> matterObject </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">matter</span><span class="token" style="color:#999">(</span><span>content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>  </span><span class="token" style="color:slategray">// Get heading anchors</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>  </span><span class="token" style="color:#07a">const</span><span> processedContent </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token control-flow" style="color:#07a">await</span><span> </span><span class="token" style="color:#DD4A68">remark</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">use</span><span class="token" style="color:#999">(</span><span>remarkHtml</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">process</span><span class="token" style="color:#999">(</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">content</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#07a">const</span><span> contentHtml </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> processedContent</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toString</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> headingAnchors</span><span class="token" style="color:#999">,</span><span> contentHtmlWithAnchors </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#DD4A68">getHeadingAnchors</span><span class="token" style="color:#999">(</span><span>contentHtml</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>    slug</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>    headingAnchors</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:slategray">// return the anchors</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>    </span><span class="token literal-property" style="color:#905">contentMarkdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">content</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>    </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>matterObject</span><span class="token" style="color:#999">.</span><span class="token property-access">data</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span></span><span class="token" style="color:slategray">// Find and return anchors based on headings</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span></span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getHeadingAnchors</span><span class="token" style="color:#999">(</span><span class="token parameter">str</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>  </span><span class="token" style="color:#07a">const</span><span> headingAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>  </span><span class="token" style="color:#07a">const</span><span> dom </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#DD4A68">jsdom</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">JSDOM</span><span class="token" style="color:#999">(</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">&lt;div id=&quot;headinganchors&quot;&gt;</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">str</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690">&lt;/div&gt;</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>  dom</span><span class="token" style="color:#999">.</span><span class="token property-access">window</span><span class="token" style="color:#999">.</span><span class="token property-access">document</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelectorAll</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;h1, h2, h3&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">forEach</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">hx</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>    </span><span class="token" style="color:#07a">const</span><span> id </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> hx</span><span class="token" style="color:#999">.</span><span class="token property-access">textContent</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toLowerCase</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\s+|[^a-z0-9]</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-flags" style="color:#e90">g</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;_&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>    </span><span class="token" style="color:#07a">const</span><span> anchor </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> dom</span><span class="token" style="color:#999">.</span><span class="token property-access">window</span><span class="token" style="color:#999">.</span><span class="token property-access">document</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">createElement</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;a&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>    anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">id</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> id</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>    hx</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">insertBefore</span><span class="token" style="color:#999">(</span><span>anchor</span><span class="token" style="color:#999">,</span><span> </span><span class="token null nil" style="color:#07a">null</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>    headingAnchors</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">push</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>      </span><span class="token literal-property" style="color:#905">heading</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> hx</span><span class="token" style="color:#999">.</span><span class="token property-access">nodeName</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toLowerCase</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>      </span><span class="token literal-property" style="color:#905">title</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> hx</span><span class="token" style="color:#999">.</span><span class="token property-access">textContent</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>      </span><span class="token literal-property" style="color:#905">anchorId</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> id</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span><span>  </span><span class="token" style="color:#07a">const</span><span> contentHtmlWithAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span>    dom</span><span class="token" style="color:#999">.</span><span class="token property-access">window</span><span class="token" style="color:#999">.</span><span class="token property-access">document</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">getElementById</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;headinganchors&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token property-access">innerHTML</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>    headingAnchors</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>    contentHtmlWithAnchors</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>For example, applying <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">getHeadingAnchors()</code> on the following markdown content:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token title" style="color:#999;font-weight:bold">#</span><span class="token title" style="color:#e90;font-weight:bold"> Heading 1</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token title" style="color:#999;font-weight:bold">##</span><span class="token title" style="color:#e90;font-weight:bold"> Heading 2</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token title" style="color:#999;font-weight:bold">#</span><span class="token title" style="color:#e90;font-weight:bold"> Heading 1</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token title" style="color:#999;font-weight:bold">##</span><span class="token title" style="color:#e90;font-weight:bold"> Heading 2</span></code></div></pre>
<p>will result in:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#999">[</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>   </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>     </span><span class="token literal-property" style="color:#905">heading</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;h1&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>     </span><span class="token literal-property" style="color:#905">title</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;Heading 1&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>     </span><span class="token literal-property" style="color:#905">anchorId</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;heading-1&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>   </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>   </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>     </span><span class="token literal-property" style="color:#905">heading</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;h2&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>     </span><span class="token literal-property" style="color:#905">title</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;Heading 2&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>     </span><span class="token literal-property" style="color:#905">anchorId</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;heading-2&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>   </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token" style="color:#999">]</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#999">[</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>   </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>     </span><span class="token literal-property" style="color:#905">heading</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;h1&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>     </span><span class="token literal-property" style="color:#905">title</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;Heading 1&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>     </span><span class="token literal-property" style="color:#905">anchorId</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;heading-1&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>   </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>   </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>     </span><span class="token literal-property" style="color:#905">heading</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;h2&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>     </span><span class="token literal-property" style="color:#905">title</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;Heading 2&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>     </span><span class="token literal-property" style="color:#905">anchorId</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;heading-2&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>   </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token" style="color:#999">]</span></code></div></pre>
<p>Now, on the output HTML content, we need to add anchors before headings so that when we click on a link in the table of content, the browser will jump to the respective anchor in the article.</p>
<p>To do so, update the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">components</code> function in <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">components/markdown.js</code> to add anchors before headings:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">components</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">hx</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">children</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#07a">const</span><span> id </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> children
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>      </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>      </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toLowerCase</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>      </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\s+|[^a-z0-9]</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-flags" style="color:#e90">gi</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;_&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>a id</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>id</span><span class="token" style="color:#999">}</span><span> className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;heading-anchor&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h3</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h3</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>    </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>    </span><span class="token" style="color:#DD4A68">code</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>      </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>    </span><span class="token" style="color:#DD4A68">h1</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">hx</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>    </span><span class="token" style="color:#DD4A68">h2</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">hx</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token" style="color:#DD4A68">h3</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">hx</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">components</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">hx</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">children</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#07a">const</span><span> id </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> children
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>      </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">join</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>      </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">toLowerCase</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>      </span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">replace</span><span class="token" style="color:#999">(</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-source language-regex" style="color:#e90">\s+|[^a-z0-9]</span><span class="token regex-delimiter" style="color:#e90">/</span><span class="token regex-flags" style="color:#e90">gi</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;_&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>a id</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>id</span><span class="token" style="color:#999">}</span><span> className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;heading-anchor&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h3</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>children</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h3</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>    </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>    </span><span class="token" style="color:#DD4A68">code</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>      </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>    </span><span class="token" style="color:#DD4A68">h1</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">hx</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>    </span><span class="token" style="color:#DD4A68">h2</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">hx</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token" style="color:#DD4A68">h3</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> node</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> inline</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> className</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> children</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> </span><span class="token parameter spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span class="token parameter">props </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>      </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">hx</span><span class="token" style="color:#999">(</span><span>children</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>If you inspect the output in your browser, you should see <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;a&gt;</code> tags with <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">id</code> and class set to <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">heading-anchors</code> before headings.</p>
<p><img src="/post/20220524/anchor-before-heading.png" alt="Anchor Before Heading"/></p>
<p>Modify <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">pages/posts/[slug].js</code> to add a sidebar to the blog page. The sidebar and content are the children of the wrapper <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;div&gt;</code>.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts/[slug].js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;post&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;wrapper&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>aside className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;sidebar&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;toc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>            </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token maybe-class-name">Table</span><span> </span><span class="token" style="color:#07a">of</span><span> </span><span class="token maybe-class-name">Contents</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>            </span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">headingAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>ul</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>                </span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">headingAnchors</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">anchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>                  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>                    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>li
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>                      id</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">toc-</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">anchor</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">anchorId</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>                      key</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">anchorId</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>                      className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">ml</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">anchor</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">heading</span><span class="token template-string interpolation" style="color:#999">[</span><span class="token template-string interpolation" style="color:#905">1</span><span class="token template-string interpolation" style="color:#999">]</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690"> toc-anchor</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>                    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>                      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>a href</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">#</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">anchor</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">anchorId</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>                    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>li</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>                  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>                </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>ul</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>aside</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>article className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;content&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">contentMarkdown</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>article</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts/[slug].js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;post&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>p className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;desc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">description</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>p</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;meta&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">By </span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">post</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">author</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">date</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>span</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;wrapper&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>aside className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;sidebar&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>div className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;toc&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>            </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token maybe-class-name">Table</span><span> </span><span class="token" style="color:#07a">of</span><span> </span><span class="token maybe-class-name">Contents</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>h1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>            </span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">headingAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>ul</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>                </span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">headingAnchors</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">anchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>                  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>                    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>li
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>                      id</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">toc-</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">anchor</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">anchorId</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>                      key</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span>anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">anchorId</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>                      className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">ml</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">anchor</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">heading</span><span class="token template-string interpolation" style="color:#999">[</span><span class="token template-string interpolation" style="color:#905">1</span><span class="token template-string interpolation" style="color:#999">]</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string" style="color:#690"> toc-anchor</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>                    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>                      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>a href</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#999">{</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">#</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">anchor</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">anchorId</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">title</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>                    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>li</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>                  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>                </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>              </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>ul</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>            </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>aside</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>article className</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;content&quot;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>          </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">{</span><span>post</span><span class="token" style="color:#999">.</span><span class="token property-access">contentMarkdown</span><span class="token" style="color:#999">}</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span class="token maybe-class-name">Markdown</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>        </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>article</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>      </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>    </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span>div</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>We apply some styles to align the sidebar to the right and make it sticky when we scroll down the page. If the window&#x27;s width is less than 1024px, the sidebar will be placed on top of the article. However, for windows width bigger than 1024px, the sidebar will be on the right side of the page, sticking to the top while scrolling.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">/* styles/global.css */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token class" style="color:#690">.ml1</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token class" style="color:#690">.ml2</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token class" style="color:#690">.ml3</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span></span><span class="token class" style="color:#690">.post</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1024</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span> auto</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.desc</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.meta</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>  </span><span class="token" style="color:#905">color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.wrapper</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> column</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.content</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.sidebar</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> column</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--margin</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.toc</span><span class="token" style="color:#690"> ul</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>  </span><span class="token" style="color:#905">padding</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.toc</span><span class="token" style="color:#690"> li</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>  </span><span class="token" style="color:#905">list-style-type</span><span class="token" style="color:#999">:</span><span> none</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>  </span><span class="token" style="color:#905">font-weight</span><span class="token" style="color:#999">:</span><span> normal</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.toc</span><span class="token" style="color:#690"> li</span><span class="token class" style="color:#690">.active</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span><span>  </span><span class="token" style="color:#905">font-weight</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">800</span><span> </span><span class="token" style="color:#e90;font-weight:bold">!important</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span></span><span class="token rule" style="color:#07a">@media</span><span class="token" style="color:#07a"> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">min-width</span><span class="token" style="color:#999">:</span><span class="token" style="color:#07a"> </span><span class="token" style="color:#905">1024</span><span class="token unit" style="color:#07a">px</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">60</span><span>  </span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.wrapper</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">61</span><span>    </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row-reverse</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">62</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">63</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">64</span><span>  </span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.sidebar</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">65</span><span>    </span><span class="token" style="color:#905">align-self</span><span class="token" style="color:#999">:</span><span> flex-start</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">66</span><span>    </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">300</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">67</span><span>    </span><span class="token" style="color:#905">position</span><span class="token" style="color:#999">:</span><span> -webkit-sticky</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">68</span><span>    </span><span class="token" style="color:#905">position</span><span class="token" style="color:#999">:</span><span> sticky</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">69</span><span>    </span><span class="token" style="color:#905">top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">70</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">71</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">72</span><span>  </span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.content</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">73</span><span>    </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">calc</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">100</span><span class="token unit">%</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--margin</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">300</span><span class="token unit">px</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">74</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">75</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">/* styles/global.css */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token class" style="color:#690">.ml1</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token class" style="color:#690">.ml2</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token class" style="color:#690">.ml3</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span></span><span class="token class" style="color:#690">.post</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>  </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1024</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span> auto</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.desc</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.meta</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>  </span><span class="token" style="color:#905">color</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--muted-color</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>  </span><span class="token" style="color:#905">margin-top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.wrapper</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> column</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.content</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>  </span><span class="token" style="color:#905">margin</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">2</span><span class="token unit">rem</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.sidebar</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>  </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> flex</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span><span>  </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> column</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>  </span><span class="token" style="color:#905">margin-left</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--margin</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.toc</span><span class="token" style="color:#690"> ul</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>  </span><span class="token" style="color:#905">padding</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.toc</span><span class="token" style="color:#690"> li</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>  </span><span class="token" style="color:#905">list-style-type</span><span class="token" style="color:#999">:</span><span> none</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>  </span><span class="token" style="color:#905">font-weight</span><span class="token" style="color:#999">:</span><span> normal</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span></span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.toc</span><span class="token" style="color:#690"> li</span><span class="token class" style="color:#690">.active</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span><span>  </span><span class="token" style="color:#905">font-weight</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">800</span><span> </span><span class="token" style="color:#e90;font-weight:bold">!important</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span></span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span></span><span class="token rule" style="color:#07a">@media</span><span class="token" style="color:#07a"> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">min-width</span><span class="token" style="color:#999">:</span><span class="token" style="color:#07a"> </span><span class="token" style="color:#905">1024</span><span class="token unit" style="color:#07a">px</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">60</span><span>  </span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.wrapper</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">61</span><span>    </span><span class="token" style="color:#905">flex-direction</span><span class="token" style="color:#999">:</span><span> row-reverse</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">62</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">63</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">64</span><span>  </span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.sidebar</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">65</span><span>    </span><span class="token" style="color:#905">align-self</span><span class="token" style="color:#999">:</span><span> flex-start</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">66</span><span>    </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">300</span><span class="token unit">px</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">67</span><span>    </span><span class="token" style="color:#905">position</span><span class="token" style="color:#999">:</span><span> -webkit-sticky</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">68</span><span>    </span><span class="token" style="color:#905">position</span><span class="token" style="color:#999">:</span><span> sticky</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">69</span><span>    </span><span class="token" style="color:#905">top</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">1</span><span class="token unit">rem</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">70</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">71</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">72</span><span>  </span><span class="token class" style="color:#690">.post</span><span class="token" style="color:#690"> </span><span class="token class" style="color:#690">.content</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">73</span><span>    </span><span class="token" style="color:#905">width</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#DD4A68">calc</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">100</span><span class="token unit">%</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#DD4A68">var</span><span class="token" style="color:#999">(</span><span class="token" style="color:#e90">--margin</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> </span><span class="token" style="color:#905">300</span><span class="token unit">px</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">74</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">75</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<a id="active_toc_items" class="heading-anchor"></a><h2>Active ToC Items</h2>
<p>To make the items in the table of contents re-act and become emphasized during the scroll event, first, we have to capture the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">scroll</code> event. To achieve this effect, we create a state named <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">scrollTop</code> with <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">useState()</code> and set its initial value to <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">0</code>. Then we capture its changes using the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">useEffect(() =&gt; {}, [scrollTop])</code> hook inside the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">Post</code> component.</p>
<p>To capture the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">scroll</code> event, we call <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">addEventListener</code> on the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">window</code> object. Don&#x27;t forget to call <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">removeEventListener</code> when <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">useEffect()</code> is finished.</p>
<p>We call <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">updateTocAnchors()</code> on each scroll update. This method searches for the heading anchors visible on the browser&#x27;s window and highlights the corresponding item on the table of contents widget based on the heading anchor ID.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts/[slug].js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> getPost</span><span class="token imports" style="color:#999">,</span><span class="token imports"> getPostsSlugs </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../../libs/posts&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">Markdown</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../../components/markdown&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> useState</span><span class="token imports" style="color:#999">,</span><span class="token imports"> useEffect </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react&quot;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// React hooks</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticPaths</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticProps</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> params </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">[</span><span>scrollTop</span><span class="token" style="color:#999">,</span><span> setScrollTop</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#DD4A68">useEffect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">updateTocAnchors</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">e</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>      </span><span class="token" style="color:#07a">const</span><span> headingAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelectorAll</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>        </span><span class="token" style="color:#690">&quot;.post .article .heading-anchor&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>headingAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>      </span><span class="token" style="color:#07a">const</span><span> activeHeadingAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token known-class-name" style="color:#DD4A68">Array</span><span class="token" style="color:#999">.</span><span class="token module" style="color:#07a">from</span><span class="token" style="color:#999">(</span><span>headingAnchors</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">filter</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>        </span><span class="token" style="color:#999">(</span><span class="token parameter">anchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>          </span><span class="token" style="color:#07a">const</span><span> rect </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> anchor</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">getBoundingClientRect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">top</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;=</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">left</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;=</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">bottom</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token property-access">clientHeight</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">right</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token property-access">clientWidth</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>          </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>activeHeadingAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>      </span><span class="token" style="color:slategray">// Deactive all ToC anchors</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>      </span><span class="token" style="color:#07a">const</span><span> tocAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelectorAll</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>        </span><span class="token" style="color:#690">&quot;.post .sidebar .toc .toc-anchor&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>tocAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>      </span><span class="token known-class-name" style="color:#DD4A68">Array</span><span class="token" style="color:#999">.</span><span class="token module" style="color:#07a">from</span><span class="token" style="color:#999">(</span><span>tocAnchors</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">forEach</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">anchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>        anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">classList</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">remove</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;active&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>      </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>      </span><span class="token" style="color:slategray">// Active current ToC anchor</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span><span>      </span><span class="token" style="color:#07a">const</span><span> tocAnchorId </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">toc-</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">activeHeadingAnchors</span><span class="token template-string interpolation" style="color:#999">[</span><span class="token template-string interpolation" style="color:#905">0</span><span class="token template-string interpolation" style="color:#999">]</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">id</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>      </span><span class="token" style="color:#07a">const</span><span> activeTocAnchor </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelector</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>        </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">#</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">tocAnchorId</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>activeTocAnchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>      activeTocAnchor</span><span class="token" style="color:#999">.</span><span class="token property-access">classList</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">add</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;active&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span>    </span><span class="token" style="color:slategray">// Capturing the `scroll` event</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">onScroll</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">e</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>      </span><span class="token" style="color:#07a">const</span><span> currScrollTop </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token property-access">scrollTop</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>      </span><span class="token" style="color:#DD4A68">setScrollTop</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">prevScrollTop</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> props</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>        </span><span class="token" style="color:#DD4A68">updateTocAnchors</span><span class="token" style="color:#999">(</span><span>e</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span>        </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span class="token known-class-name" style="color:#DD4A68">Math</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">abs</span><span class="token" style="color:#999">(</span><span>prevScrollTop </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> currScrollTop</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#905">200</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> currScrollTop</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span><span>      </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">60</span><span>    </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">addEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;scroll&quot;</span><span class="token" style="color:#999">,</span><span> onScroll</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">61</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">removeEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;scroll&quot;</span><span class="token" style="color:#999">,</span><span> onScroll</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">62</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span>scrollTop</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">63</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">64</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">65</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// pages/posts/[slug].js</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> getPost</span><span class="token imports" style="color:#999">,</span><span class="token imports"> getPostsSlugs </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../../libs/posts&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports maybe-class-name">Markdown</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;../../components/markdown&quot;</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token module" style="color:#07a">import</span><span> </span><span class="token imports" style="color:#999">{</span><span class="token imports"> useState</span><span class="token imports" style="color:#999">,</span><span class="token imports"> useEffect </span><span class="token imports" style="color:#999">}</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;react&quot;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// React hooks</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticPaths</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#07a">async</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">getStaticProps</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> params </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token module" style="color:#07a">default</span><span> </span><span class="token" style="color:#07a">function</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Post</span><span class="token" style="color:#999">(</span><span class="token parameter" style="color:#999">{</span><span class="token parameter"> slug</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> post </span><span class="token parameter" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>  </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">[</span><span>scrollTop</span><span class="token" style="color:#999">,</span><span> setScrollTop</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">useState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span><span>  </span><span class="token" style="color:#DD4A68">useEffect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">updateTocAnchors</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">e</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>      </span><span class="token" style="color:#07a">const</span><span> headingAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelectorAll</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>        </span><span class="token" style="color:#690">&quot;.post .article .heading-anchor&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>headingAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>      </span><span class="token" style="color:#07a">const</span><span> activeHeadingAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token known-class-name" style="color:#DD4A68">Array</span><span class="token" style="color:#999">.</span><span class="token module" style="color:#07a">from</span><span class="token" style="color:#999">(</span><span>headingAnchors</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">filter</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>        </span><span class="token" style="color:#999">(</span><span class="token parameter">anchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span>          </span><span class="token" style="color:#07a">const</span><span> rect </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> anchor</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">getBoundingClientRect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">top</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;=</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">left</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;=</span><span> </span><span class="token" style="color:#905">0</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">bottom</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token property-access">clientHeight</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;&amp;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>            rect</span><span class="token" style="color:#999">.</span><span class="token property-access">right</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token property-access">clientWidth</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span><span>          </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>activeHeadingAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span><span>      </span><span class="token" style="color:slategray">// Deactive all ToC anchors</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>      </span><span class="token" style="color:#07a">const</span><span> tocAnchors </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelectorAll</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span><span>        </span><span class="token" style="color:#690">&quot;.post .sidebar .toc .toc-anchor&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>tocAnchors</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>      </span><span class="token known-class-name" style="color:#DD4A68">Array</span><span class="token" style="color:#999">.</span><span class="token module" style="color:#07a">from</span><span class="token" style="color:#999">(</span><span>tocAnchors</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">forEach</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">anchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>        anchor</span><span class="token" style="color:#999">.</span><span class="token property-access">classList</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">remove</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;active&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>      </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>      </span><span class="token" style="color:slategray">// Active current ToC anchor</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span><span>      </span><span class="token" style="color:#07a">const</span><span> tocAnchorId </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">toc-</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">activeHeadingAnchors</span><span class="token template-string interpolation" style="color:#999">[</span><span class="token template-string interpolation" style="color:#905">0</span><span class="token template-string interpolation" style="color:#999">]</span><span class="token template-string interpolation" style="color:#999">.</span><span class="token template-string interpolation property-access">id</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>      </span><span class="token" style="color:#07a">const</span><span> activeTocAnchor </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">querySelector</span><span class="token" style="color:#999">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>        </span><span class="token template-string template-punctuation" style="color:#690">`</span><span class="token template-string" style="color:#690">#</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">${</span><span class="token template-string interpolation">tocAnchorId</span><span class="token template-string interpolation interpolation-punctuation" style="color:#999">}</span><span class="token template-string template-punctuation" style="color:#690">`</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>      </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>      </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">!</span><span>activeTocAnchor</span><span class="token" style="color:#999">)</span><span> </span><span class="token control-flow" style="color:#07a">return</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span><span>      activeTocAnchor</span><span class="token" style="color:#999">.</span><span class="token property-access">classList</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">add</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;active&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span>    </span><span class="token" style="color:slategray">// Capturing the `scroll` event</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">onScroll</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">e</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>      </span><span class="token" style="color:#07a">const</span><span> currScrollTop </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> e</span><span class="token" style="color:#999">.</span><span class="token property-access">target</span><span class="token" style="color:#999">.</span><span class="token property-access">documentElement</span><span class="token" style="color:#999">.</span><span class="token property-access">scrollTop</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>      </span><span class="token" style="color:#DD4A68">setScrollTop</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token parameter">prevScrollTop</span><span class="token parameter" style="color:#999">,</span><span class="token parameter"> props</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>        </span><span class="token" style="color:#DD4A68">updateTocAnchors</span><span class="token" style="color:#999">(</span><span>e</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span>        </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span class="token known-class-name" style="color:#DD4A68">Math</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">abs</span><span class="token" style="color:#999">(</span><span>prevScrollTop </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> currScrollTop</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#905">200</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span><span>          </span><span class="token control-flow" style="color:#07a">return</span><span> currScrollTop</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span><span>      </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">60</span><span>    </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">addEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;scroll&quot;</span><span class="token" style="color:#999">,</span><span> onScroll</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">61</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">removeEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;scroll&quot;</span><span class="token" style="color:#999">,</span><span> onScroll</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">62</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span>scrollTop</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">63</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">64</span><span>  </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span> </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">65</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>After combining all the codes and logic, the results will be as follows:</p>
<p><img src="/post/20220524/article-with-toc.png" alt="Article with ToC"/></p>
<a id="conclusion" class="heading-anchor"></a><h2>Conclusion</h2>
<p>We are done! We have created an auto-generated table of contents, which can highlight its items based on the current scrolling position.</p>
<p>You can find the source code on the <a href="https://github.com/mirbostani/nextjs-markdown-blog-with-toc">nextjs-markdown-blog-with-toc</a> repository.</p></article></div></div></section></main><footer class="sk-footer bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 mt-10"><div class="max-w-5xl container mx-auto flex flex-col items-center px-4 lg:px-16 xl:px-24 py-6 space-y-6 lg:space-y-0 lg:flex-row lg:justify-between"><div class="flex items-center text-sm space-x-1"><span>©</span><span>2023</span><a href="/">Seyed Morteza Mirbostani</a></div><div class="flex items-center text-sm space-x-4"><a href="/disclaimer">Disclaimer</a><a class="text-gray-500" target="_blank" href="https://scholar.google.com/citations?user=mpyJOEUAAAAJ&amp;hl=en"><svg xmlns="http://www.w3.org/2000/svg" aria-label="Google Scholar" role="img" viewBox="0 0 512 512" class="w-6 h-6 fill-current"><rect width="512" height="512" rx="15%"></rect><path fill="#ffffff" d="M213 111l-107 94h69c5 45 41 64 78 67-7 18-4 27 7 39-43 1-103 26-103 67 4 45 63 54 92 54 38 1 81-19 90-54 4-35-10-54-31-71-23-18-28-28-21-40 15-17 35-27 39-51 2-17-2-28-6-43l45-38-1 16c-3 2-5 6-5 9v103c2 13 22 11 23 0V160c0-3-2-7-5-8v-25l16-16zm58 141c-61 10-87-87-38-99 56-11 83 86 38 99zm-5 73c60 13 61 63 10 78-44 9-82-4-81-30 0-25 35-48 71-48z"></path></svg></a><a class="text-gray-500" target="_blank" href="https://github.com/mirbostani"><svg viewBox="0 0 30 30" class="w-6 h-6 fill-current"><path d="M15 1.875C7.75195 1.875 1.875 7.9043 1.875 15.334C1.875 21.2812 5.63672 26.3203 10.8516 28.1016C10.9247 28.1175 10.9994 28.1253 11.0742 28.125C11.5605 28.125 11.748 27.7676 11.748 27.457C11.748 27.1348 11.7363 26.291 11.7305 25.166C11.2963 25.2678 10.8522 25.3209 10.4062 25.3242C7.88086 25.3242 7.30664 23.3613 7.30664 23.3613C6.70898 21.8086 5.84766 21.3926 5.84766 21.3926C4.70508 20.5898 5.8418 20.5664 5.92969 20.5664H5.93555C7.25391 20.6836 7.94531 21.9609 7.94531 21.9609C8.60156 23.1094 9.48047 23.4316 10.2656 23.4316C10.7848 23.4213 11.2959 23.3015 11.7656 23.0801C11.8828 22.2129 12.2227 21.6211 12.5977 21.2812C9.68555 20.9414 6.62109 19.7871 6.62109 14.6309C6.62109 13.1602 7.13086 11.959 7.96875 11.0215C7.83398 10.6816 7.38281 9.31055 8.09766 7.45898C8.19354 7.43604 8.29209 7.42619 8.39062 7.42969C8.86523 7.42969 9.9375 7.61133 11.707 8.8418C13.8572 8.24022 16.1311 8.24022 18.2812 8.8418C20.0508 7.61133 21.123 7.42969 21.5977 7.42969C21.6962 7.42619 21.7947 7.43604 21.8906 7.45898C22.6055 9.31055 22.1543 10.6816 22.0195 11.0215C22.8574 11.9648 23.3672 13.166 23.3672 14.6309C23.3672 19.7988 20.2969 20.9355 17.373 21.2695C17.8418 21.6855 18.2637 22.5059 18.2637 23.7598C18.2637 25.5586 18.2461 27.0117 18.2461 27.4512C18.2461 27.7676 18.4277 28.125 18.9141 28.125C18.9928 28.1253 19.0713 28.1175 19.1484 28.1016C24.3691 26.3203 28.125 21.2754 28.125 15.334C28.125 7.9043 22.248 1.875 15 1.875Z"></path></svg></a><a class="text-gray-500" target="_blank" href="https://linkedin.com/in/mirbostani"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="w-5 h-5 fill-current"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a class="text-gray-500" target="_blank" href="https://twitter.com/mirbostani"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 fill-current"><path d="M19.995 6.68799C20.8914 6.15208 21.5622 5.30823 21.882 4.31399C21.0397 4.81379 20.118 5.16587 19.157 5.35499C17.8246 3.94552 15.7135 3.60251 14.0034 4.51764C12.2933 5.43277 11.4075 7.37948 11.841 9.26999C8.39062 9.09676 5.17598 7.4669 2.99702 4.78599C1.85986 6.74741 2.44097 9.25477 4.32502 10.516C3.64373 10.4941 2.97754 10.3096 2.38202 9.97799C2.38202 9.99599 2.38202 10.014 2.38202 10.032C2.38241 12.0751 3.82239 13.8351 5.82502 14.24C5.19308 14.4119 4.53022 14.4372 3.88702 14.314C4.45022 16.0613 6.06057 17.2583 7.89602 17.294C6.37585 18.4871 4.49849 19.1342 2.56602 19.131C2.22349 19.1315 1.88123 19.1118 1.54102 19.072C3.50341 20.333 5.78739 21.0023 8.12002 21C11.3653 21.0223 14.484 19.7429 16.7787 17.448C19.0734 15.1531 20.3526 12.0342 20.33 8.78899C20.33 8.60299 20.3257 8.41799 20.317 8.23399C21.1575 7.62659 21.8828 6.87414 22.459 6.01199C21.676 6.35905 20.8455 6.58691 19.995 6.68799Z"></path></svg></a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"create-a-table-of-contents-for-a-nextjs-markdown-blog","postData":{"slug":"create-a-table-of-contents-for-a-nextjs-markdown-blog","headingAnchors":[{"heading":"h2","title":"Introduction","anchorId":"introduction"},{"heading":"h2","title":"Create a Next.js App","anchorId":"create_a_next_js_app"},{"heading":"h2","title":"Add \"Posts\" Page","anchorId":"add__posts__page"},{"heading":"h2","title":"Parse Markdown Files","anchorId":"parse_markdown_files"},{"heading":"h2","title":"Start Dev Server","anchorId":"start_dev_server"},{"heading":"h2","title":"Apply Styles","anchorId":"apply_styles"},{"heading":"h2","title":"Add Blog Page","anchorId":"add_blog_page"},{"heading":"h2","title":"View Blog Post","anchorId":"view_blog_post"},{"heading":"h2","title":"Render Markdown","anchorId":"render_markdown"},{"heading":"h2","title":"Create ToC Widget","anchorId":"create_toc_widget"},{"heading":"h2","title":"Active ToC Items","anchorId":"active_toc_items"},{"heading":"h2","title":"Conclusion","anchorId":"conclusion"}],"contentHtml":"\u003ch2\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eWith all the available features offered in Next.js, you can easily create a full-fledged blog with markdown and Latex support. It enables you to write the articles in a markdown file and publish them statically. The blog pages will be generated based on the name of the markdown files, their YAML metadata, and content. Each markdown file is an article that will be rendered as an HTML page. However, to easily navigate through the page, we need a dynamic table of contents that enables us to jump to a specific heading and shows the current position in the article. In this article, we are going to build an auto-generated table of contents based on the headings of a markdown file. The output results will be as follows:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/screenshot.gif\" alt=\"Next.js Markdown Blog with ToC support\"\u003e\u003c/p\u003e\n\u003cp\u003eTo view the full source code, you can visit \u003ca href=\"https://github.com/mirbostani/nextjs-markdown-blog-with-toc\"\u003enextjs-markdown-blog-with-toc\u003c/a\u003e or clone the repository:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ git clone https://github.com/mirbostani/nextjs-markdown-blog-with-toc\n$ cd nextjs-markdown-blog-with-toc\n$ npm install\n$ npm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eCreate a Next.js App\u003c/h2\u003e\n\u003cp\u003eThe initial step is to create a Next.js project. First, make a new directory and navigate to it. Use the \u003ccode\u003ecreate-next-app\u003c/code\u003e tool to initialize a Next.js project and install dependencies.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir nextjs-markdown-blog-with-toc \u0026#x26;\u0026#x26; cd nextjs-markdown-blog-with-toc\n$ npx create-next-app . --use-npm\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you haven't already had \u003ccode\u003ecreate-next-app\u003c/code\u003e on your system, install this CLI tool with \u003ccode\u003enpm\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm i create-next-app\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eAdd \"Posts\" Page\u003c/h2\u003e\n\u003cp\u003eFirst, we want to show a list of articles containing titles, descriptions, the author's name, and the publish date. Therefore, we need a top-level page to present this list. A suitable route would be \u003ccode\u003elocalhost:3000/posts\u003c/code\u003e. To add it to the website, create the \u003ccode\u003epages/posts.js\u003c/code\u003e file.\u003c/p\u003e\n\u003cp\u003eEvery \u003ccode\u003e.js\u003c/code\u003e file inside the \u003ccode\u003epages\u003c/code\u003e directory maps to a route on your website.\u003c/p\u003e\n\u003cp\u003eInside the \u003ccode\u003epages/posts.js\u003c/code\u003e file, write a function named \u003ccode\u003ePosts\u003c/code\u003e and export it as the default component. \u003ccode\u003ePosts\u003c/code\u003e receives \u003ccode\u003eprops.posts\u003c/code\u003e as the input parameter that is an array of objects. Each object is associated with a single markdown file, i.e., a single blog post. Every post has a slug, which is the last part of the URL of the post, a title, description, author's name, and a publish date.\u003c/p\u003e\n\u003cp\u003eBy iterating over the \u003ccode\u003eposts\u003c/code\u003e array with the \u003ccode\u003eArray.prototype.map()\u003c/code\u003e function, we can create a list of blog posts containing the blog title and description along with its metadata. Each blog post is wrapped around a \u003ccode\u003e\u0026#x3C;Link\u003e\u003c/code\u003e component. It lets you navigate to different pages inside your website. Viewers of the website should be able to browse any blog post by simply clicking on it in the list. Therefore, \u003ccode\u003ehref\u003c/code\u003e attribute of the \u003ccode\u003e\u0026#x3C;Link\u003e\u003c/code\u003e is set to \u003ccode\u003e/posts/\u0026#x3C;slug\u003e\u003c/code\u003e. Additionally, due to the uniqueness of the \u003ccode\u003eslug\u003c/code\u003e we can use it as the value of the \u003ccode\u003ekey\u003c/code\u003e attribute for \u003ccode\u003emap\u003c/code\u003e's returned components. This \u003ccode\u003ekey\u003c/code\u003e is mandatory for React.js to be able to determine the changes in the components of an array.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts.js\n\nimport Link from \"next/link\";\n\nexport default function Posts({ posts }) {\n  return (\n    \u0026#x3C;div className=\"posts\"\u003e\n      {posts.length \u003e 0 \u0026#x26;\u0026#x26;\n        posts.map(({ slug, title, description, author, date }) =\u003e {\n          return (\n            \u0026#x3C;Link key={slug} href={`/posts/${slug}`}\u003e\n              \u0026#x3C;div className=\"card\"\u003e\n                \u0026#x3C;h1\u003e{title}\u0026#x3C;/h1\u003e\n                \u0026#x3C;p className=\"desc\"\u003e{description}\u0026#x3C;/p\u003e\n                \u0026#x3C;p className=\"meta\"\u003e\n                  \u0026#x3C;span\u003e{`By ${author}`}\u0026#x3C;/span\u003e\n                  \u0026#x3C;span\u003e{date}\u0026#x3C;/span\u003e\n                \u0026#x3C;/p\u003e\n              \u0026#x3C;/div\u003e\n            \u0026#x3C;/Link\u003e\n          );\n        })}\n    \u0026#x3C;/div\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo populate \u003ccode\u003eprops.posts\u003c/code\u003e of the \u003ccode\u003ePosts\u003c/code\u003e component with the data associated with the markdown files, we can make use of \u003ccode\u003egetStaticProps()\u003c/code\u003e method of the \u003ccode\u003eposts.js\u003c/code\u003e page. On website's static built, it returns the \u003ccode\u003eprops\u003c/code\u003e object and passes it to the default component of the page, i.e., the \u003ccode\u003ePosts\u003c/code\u003e function. Inside, we call a function named \u003ccode\u003egetPosts()\u003c/code\u003e to retrieve posts' data.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts.js\n\nimport Link from \"next/link\";\nimport { getPosts } from \"../libs/posts\";\n\nexport async function getStaticProps() {\n  const posts = getPosts({ page: 1, limit: 10 });\n  return {\n    props: {\n      posts,\n    },\n  };\n}\n\nexport default function Posts({ posts }) { ... }\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eParse Markdown Files\u003c/h2\u003e\n\u003cp\u003eFunctions related to the data retrieval are in the \u003ccode\u003elib/posts.js\u003c/code\u003e file. We define the \u003ccode\u003egetPosts()\u003c/code\u003e function inside it. This function reads all the markdown files inside a specified directory (\u003ccode\u003e./posts/*.md\u003c/code\u003e), parses the files' content to extract the metadata in YAML format, and applies a pagination mechanism.\u003c/p\u003e\n\u003cp\u003eA simple example of a markdown file with front matter is as follows:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e---\ntitle: \"How to create a Next.js App\"\ndescription: \"In this post you will learn how to create a Next.js application\"\ndate: \"2022-05-24\"\nauthor: \"mirbostani\"\n---\n\n## Introduction\n\nNext.js is an open-source web development framework.\n\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo parse YAML front matter, we use \u003ca href=\"https://www.npmjs.com/package/gray-matter\"\u003egray-matter\u003c/a\u003e package.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save gray-matter\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAs the \u003ccode\u003e*.md\u003c/code\u003e files are placed inside the \u003ccode\u003eposts\u003c/code\u003e directory, we resolve the path using \u003ccode\u003epath.resolve(\"posts\")\u003c/code\u003e. We read the file names synchronously with \u003ccode\u003efs.readdirSync()\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe file name without the trailing \u003ccode\u003e.md\u003c/code\u003e string is the slug. We read the file content by \u003ccode\u003efs.readFileSync()\u003c/code\u003e and parse the content with the \u003ccode\u003ematter\u003c/code\u003e function. We use the \u003ccode\u003ematter(content).data\u003c/code\u003e object to get the returned values. These properties are stored in the \u003ccode\u003eposts\u003c/code\u003e array. Each post object contains slug, content in markdown, metadata, and other properties.\u003c/p\u003e\n\u003cp\u003eBefore returning the \u003ccode\u003eposts\u003c/code\u003e array, we call the \u003ccode\u003eArray.prototype.sort()\u003c/code\u003e method to sort the data based on the \u003ccode\u003edate\u003c/code\u003e metadata.\u003c/p\u003e\n\u003cp\u003eThe last line implements pagination based on the \u003ccode\u003epage\u003c/code\u003e and \u003ccode\u003elimit\u003c/code\u003e parameters.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// libs/posts.js\n\nimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nexport function getPosts({ page, limit }) {\n  page = page ?? 1;\n  limit = limit ?? 10;\n\n  // Read the markdown files (`posts/*.md`) \n  const dirPath = path.resolve(\"posts\");\n  const fileNames = fs.readdirSync(dirPath);\n\n  // Prepare posts containing slug, content, and metadata\n  let posts = fileNames.map((fileName) =\u003e {\n    const slug = fileName.replace(/\\.md$/i, \"\");\n    const filePath = path.join(dirPath, fileName);\n    const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n    const matterObject = matter(content);\n    return {\n      slug,\n      ...matterObject.data,\n    };\n  });\n\n  // Sort posts based on `date`\n  posts\n    .sort(({ date: a }, { date: b }) =\u003e {\n      if (a \u003e b) return 1;\n      else if (a \u0026#x3C; b) return -1;\n      else return 0;\n    })\n    .reverse();\n\n  // Pagination\n  return posts.slice((page - 1) * limit, page * limit);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eStart Dev Server\u003c/h2\u003e\n\u003cp\u003eRun the \u003ccode\u003enext dev -p 3000\u003c/code\u003e command to start the development server. It is assigned to the NPM's \u003ccode\u003edev\u003c/code\u003e script in \u003ccode\u003epackage.json\u003c/code\u003e file.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNavigate to \u003ccode\u003elocalhost:3000/posts\u003c/code\u003e in your favorite browser.\u003c/p\u003e\n\u003ch2\u003eApply Styles\u003c/h2\u003e\n\u003cp\u003eAdd the following CSS rules to the \u003ccode\u003estyles/global.css\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/* styles/globals.css */\n\n:root {\n  --muted-color: gray;\n  --hover-color: #f7f7f7;\n}\n\n.posts {\n  margin: 2rem auto;\n  max-width: 1024px;\n  border: 1px solid var(--muted-color);\n}\n\n.card {\n  padding: 1rem 2rem;\n  cursor: pointer;\n}\n\n.card:hover {\n  background-color: var(--hover-color);\n}\n\n.card .desc {\n  margin-top: 0;\n}\n\n.card .meta {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe class names are added to the \u003ccode\u003ePosts\u003c/code\u003e component's children in \u003ccode\u003epages/posts.js\u003c/code\u003e using the \u003ccode\u003eclassName\u003c/code\u003e attribute. The following output will be displayed on your browser.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/posts-list.png\" alt=\"Posts list\"\u003e\u003c/p\u003e\n\u003ch2\u003eAdd Blog Page\u003c/h2\u003e\n\u003cp\u003eCreate the \u003ccode\u003epages/posts/[slug].js\u003c/code\u003e file. The \u003ccode\u003ePost\u003c/code\u003e component receives two parameters: \u003ccode\u003eslug\u003c/code\u003e and \u003ccode\u003epost\u003c/code\u003e. They are populated by the \u003ccode\u003egetStaticProps()\u003c/code\u003e method. When a URL like \u003ccode\u003elocalhost:3000/posts/\u0026#x3C;slug\u003e\u003c/code\u003e is opened in a browser, the value of \u003ccode\u003e\u0026#x3C;slug\u003e\u003c/code\u003e part of the URL will be accessible in \u003ccode\u003egetStaticProps()\u003c/code\u003e using \u003ccode\u003eprops.params.slug\u003c/code\u003e variable.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts/[slug].js\n\nimport { getPost, getPostsSlugs } from \"../../libs/posts\";\n\nexport async function getStaticPaths() {\n  const paths = getPostsSlugs();\n  return {\n    paths,\n    fallback: false,\n  };\n}\n\nexport async function getStaticProps({ params }) {\n  const slug = params.slug;\n  const post = await getPost(slug);\n  return {\n    props: {\n      slug,\n      post,\n    },\n  };\n}\n\nexport default function Post({ slug, post }) {\n  return (\n    \u0026#x3C;div className=\"post\"\u003e\n      \u0026#x3C;h1\u003e{post.title}\u0026#x3C;/h1\u003e\n      \u0026#x3C;p className=\"desc\"\u003e{post.description}\u0026#x3C;/p\u003e\n      \u0026#x3C;div className=\"meta\"\u003e\n        \u0026#x3C;span\u003e{`By ${post.author}`}\u0026#x3C;/span\u003e\n        \u0026#x3C;span\u003e{post.date}\u0026#x3C;/span\u003e\n      \u0026#x3C;/div\u003e\n      \u0026#x3C;div className=\"content\"\u003e{post.contentMarkdown}\u0026#x3C;/div\u003e\n    \u0026#x3C;/div\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDefine \u003ccode\u003egetPost()\u003c/code\u003e and \u003ccode\u003egetPostsSlugs()\u003c/code\u003e methods in \u003ccode\u003elibs/posts.js\u003c/code\u003e. In \u003ccode\u003egetPosts()\u003c/code\u003e, \u003ccode\u003eslug\u003c/code\u003e is valid through the passed parameter. We use it to open the markdown file with the same base name, parse its content, and return it along with \u003ccode\u003eslug\u003c/code\u003e and other metadata.\u003c/p\u003e\n\u003cp\u003eHere, \u003ccode\u003egetPostsSlugs()\u003c/code\u003e is responsible for providing all the available slugs. They are used in Next.js to build the static website's internal links. We iterate over all the file names, extract, and return the slugs.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nexport function getPosts({ page, limit }) { ... }\n\nexport async function getPost(slug) {\n  const dirPath = path.resolve(\"posts\");\n  const filePath = path.join(dirPath, `${slug}.md`);\n  const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n  const matterObject = matter(content);\n  return {\n    slug,\n    contentMarkdown: matterObject.content,\n    ...matterObject.data,\n  };\n}\n\nexport function getPostsSlugs() {\n  const dirPath = path.resolve(\"posts\");\n  const fileNames = fs.readdirSync(dirPath);\n  return fileNames.map((fileName) =\u003e {\n    const slug = fileName.replace(/\\.md/, \"\");\n    return {\n      params: {\n        slug,\n      },\n    };\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eView Blog Post\u003c/h2\u003e\n\u003cp\u003eTo check if the functions are working properly, navigate to the \u003ccode\u003elocalhost:3000/posts/\u0026#x3C;slug\u003e\u003c/code\u003e link in which \u003ccode\u003e\u0026#x3C;slug\u003e\u003c/code\u003e is the base name of a markdown file. For example, if your file is located in \u003ccode\u003eposts/how-to-create-a-nextjs-app.md\u003c/code\u003e, open the \u003ccode\u003elocalhost:3000/posts/how-to-create-a-nextjs-app\u003c/code\u003e URL.\u003c/p\u003e\n\u003cp\u003eIn files' path, \u003ccode\u003eposts\u003c/code\u003e refers to a local directory; however, in URLs, \u003ccode\u003eposts\u003c/code\u003e refers to the directory located in \u003ccode\u003epages/posts\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/post-raw.png\" alt=\"Raw blog post\"\u003e\u003c/p\u003e\n\u003cp\u003eNow apply some styles by modifying \u003ccode\u003estyles/global.css\u003c/code\u003e and adding the following classes.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e.post {\n  width: 1024px;\n  margin: 0 auto;\n}\n\n.desc {\n  margin-top: 0;\n}\n\n.meta {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\n.content {\n    margin: 2rem 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf your dev server is running, you will see the changes instantaneously.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/post-styled.png\" alt=\"Styled blog post\"\u003e\u003c/p\u003e\n\u003ch2\u003eRender Markdown\u003c/h2\u003e\n\u003cp\u003eAs you can see, the markdown content is displayed as plain text. We need some tools to convert it to a proper HTML format. Install the following packages in your project:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save react-markdown remark-math rehype-katex react-syntax-highlighter\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCreate a \u003ccode\u003eMarkdown\u003c/code\u003e component in the \u003ccode\u003ecomponents/markdown.js\u003c/code\u003e file. This component is a wrapper for \u003ca href=\"https://www.npmjs.com/package/react-markdown\"\u003e\u003ccode\u003eReactMarkdown\u003c/code\u003e\u003c/a\u003e component, which is responsible for converting markdown to HTML.\u003c/p\u003e\n\u003cp\u003eTo support rendering mathematic formulas on the website, we use the \u003ca href=\"https://www.npmjs.com/package/remark-math\"\u003eremark-math\u003c/a\u003e and \u003ca href=\"https://www.npmjs.com/package/rehype-katex\"\u003erehype-katex\u003c/a\u003e packages.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eReactMarkdown\u003c/code\u003e has a \u003ccode\u003ecomponents\u003c/code\u003e attribute. You can pass a function to access HTML tags and add features. To highlight the code, first, we access the \u003ccode\u003e\u0026#x3C;code\u003e\u003c/code\u003e tag inside the \u003ccode\u003ecomponents()\u003c/code\u003e function. We filter the ones with the \u003ccode\u003elanguage-*\u003c/code\u003e class, for example, \u003ccode\u003elanguage-js\u003c/code\u003e. Then, we wrap it with the \u003ccode\u003eSyntaxHighlighter\u003c/code\u003e component, passing Prism style, setting the language, enabling line numbers, passing the children, etc. However, when there is no match in the \u003ccode\u003elanguage-*\u003c/code\u003e CSS class search, we return a plain \u003ccode\u003e\u0026#x3C;code\u003e\u003c/code\u003e tag accordingly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// components/markdown.js\n\nimport ReactMarkdown from \"react-markdown\";\n\n// Math support\nimport remarkMath from \"remark-math\";\nimport rehypeKatex from \"rehype-katex\";\nimport \"katex/dist/katex.min.css\";\n\n// Syntax highlighting support\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { prism as LightStyle } from \"react-syntax-highlighter/dist/cjs/styles/prism\";\n\nfunction components() {\n  return {\n    code({ node, inline, className, children, ...props }) {\n      const match = /language-(\\w+)/.exec(className || \"\");\n      return !inline \u0026#x26;\u0026#x26; match ? (\n        // Highlighted code\n        \u0026#x3C;\u003e\n          \u0026#x3C;SyntaxHighlighter\n            style={LightStyle}\n            language={match[1]}\n            PreTag=\"div\"\n            // eslint-disable-next-line react/no-children-prop\n            children={String(children).replace(/\\n$/, \"\")}\n            showLineNumbers={true}\n            customStyle={{\n              backgroundColor: \"rgba(245, 245, 245, 1)\",\n              opacity: \"1\",\n            }}\n            codeTagProps={{\n              style: {\n                backgroundColor: \"transparent\",\n              },\n            }}\n            {...props}\n          /\u003e\n        \u0026#x3C;/\u003e\n      ) : (\n        // Plain code\n        \u0026#x3C;code {...props}\u003e\n          {children}\n        \u0026#x3C;/code\u003e\n      );\n    },\n  };\n}\n\n// Wrapper for ReactMarkdown\nexport default function Markdown({ children }) {\n  return (\n    \u0026#x3C;ReactMarkdown\n      remarkPlugins={[remarkMath]}\n      rehypePlugins={[rehypeKatex]}\n      components={components()}\n    \u003e\n      {children}\n    \u0026#x3C;/ReactMarkdown\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow use \u003ccode\u003eMarkdown\u003c/code\u003e by updating the \u003ccode\u003ePost\u003c/code\u003e component in \u003ccode\u003epages/posts/[slug].js\u003c/code\u003e. Pass \u003ccode\u003epost.contentMarkdown\u003c/code\u003e to the \u003ccode\u003eMarkdown\u003c/code\u003e component as a child.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eexport default function Post({ slug, post }) {\n  return (\n    \u0026#x3C;div className=\"post\"\u003e\n      \u0026#x3C;h1\u003e{post.title}\u0026#x3C;/h1\u003e\n      \u0026#x3C;p className=\"desc\"\u003e{post.description}\u0026#x3C;/p\u003e\n      \u0026#x3C;div className=\"meta\"\u003e\n        \u0026#x3C;span\u003e{`By ${post.author}`}\u0026#x3C;/span\u003e\n        \u0026#x3C;span\u003e{post.date}\u0026#x3C;/span\u003e\n      \u0026#x3C;/div\u003e\n      \u0026#x3C;article className=\"content\"\u003e\n        \u0026#x3C;Markdown\u003e{post.contentMarkdown}\u0026#x3C;/Markdown\u003e\n      \u0026#x3C;/article\u003e\n    \u0026#x3C;/div\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere is an example:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/code-math-in-markdown.png\" alt=\"Code and Math in Markdown\"\u003e\u003c/p\u003e\n\u003ch2\u003eCreate ToC Widget\u003c/h2\u003e\n\u003cp\u003eIn this step, we want to create an auto-generated table of contents based on the headings available in the markdown file of the article. The following packages are required:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save remark remark-html jsdom\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eModify the \u003ccode\u003elibs/posts.js\u003c/code\u003e file by adding the \u003ccode\u003egetHeadingAnchors()\u003c/code\u003e function to it. In \u003ccode\u003egetPost()\u003c/code\u003e method, we use \u003ccode\u003eremark()\u003c/code\u003e to parse the markdown content to HTML. Then, we pass it to the \u003ccode\u003egetHeadingAnchors()\u003c/code\u003e function, which is responsible for finding all the \u003ccode\u003e\u0026#x3C;h1\u003e\u003c/code\u003e, \u003ccode\u003e\u0026#x3C;h2\u003e\u003c/code\u003e, and \u003ccode\u003e\u0026#x3C;h3\u003e\u003c/code\u003e tags, creating an ID based on the text content of the tag, and return the heading's type (\u003ccode\u003eheading\u003c/code\u003e), title (\u003ccode\u003etitle\u003c/code\u003e), and prepared ID (\u003ccode\u003eanchorId\u003c/code\u003e). Finally, \u003ccode\u003egetPost()\u003c/code\u003e returns the heading anchors along with other properties.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nimport { remark } from \"remark\";\nimport remarkHtml from \"remark-html\";\nimport jsdom from \"jsdom\";\n\nexport function getPosts({ page, limit }) { ... }\n\nexport async function getPost(slug) {\n  const dirPath = path.resolve(\"posts\");\n  const filePath = path.join(dirPath, `${slug}.md`);\n  const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n  const matterObject = matter(content);\n\n  // Get heading anchors\n  const processedContent = await remark()\n    .use(remarkHtml)\n    .process(matterObject.content);\n  const contentHtml = processedContent.toString();\n  const { headingAnchors, contentHtmlWithAnchors } =\n    getHeadingAnchors(contentHtml);\n\n  return {\n    slug,\n    headingAnchors, // return the anchors\n    contentMarkdown: matterObject.content,\n    ...matterObject.data,\n  };\n}\n\n// Find and return anchors based on headings\nfunction getHeadingAnchors(str) {\n  const headingAnchors = [];\n  const dom = new jsdom.JSDOM(`\u0026#x3C;div id=\"headinganchors\"\u003e${str}\u0026#x3C;/div\u003e`);\n  dom.window.document.querySelectorAll(\"h1, h2, h3\").forEach((hx) =\u003e {\n    const id = hx.textContent.toLowerCase().replace(/\\s+|[^a-z0-9]/g, \"_\");\n    const anchor = dom.window.document.createElement(\"a\");\n    anchor.id = id;\n    hx.insertBefore(anchor, null);\n\n    headingAnchors.push({\n      heading: hx.nodeName.toLowerCase(),\n      title: hx.textContent,\n      anchorId: id,\n    });\n  });\n  const contentHtmlWithAnchors =\n    dom.window.document.getElementById(\"headinganchors\").innerHTML;\n  return {\n    headingAnchors,\n    contentHtmlWithAnchors,\n  };\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor example, applying \u003ccode\u003egetHeadingAnchors()\u003c/code\u003e on the following markdown content:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# Heading 1\n\n## Heading 2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewill result in:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e[\n   {\n     heading: \"h1\",\n     title: \"Heading 1\",\n     anchorId: \"heading-1\"\n   },\n   {\n     heading: \"h2\",\n     title: \"Heading 2\",\n     anchorId: \"heading-2\"\n   },\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, on the output HTML content, we need to add anchors before headings so that when we click on a link in the table of content, the browser will jump to the respective anchor in the article.\u003c/p\u003e\n\u003cp\u003eTo do so, update the \u003ccode\u003ecomponents\u003c/code\u003e function in \u003ccode\u003ecomponents/markdown.js\u003c/code\u003e to add anchors before headings:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efunction components() {\n  const hx = (children) =\u003e {\n    const id = children\n      .join(\"\")\n      .toLowerCase()\n      .replace(/\\s+|[^a-z0-9]/gi, \"_\");\n    return (\n      \u0026#x3C;\u003e\n        \u0026#x3C;a id={id} className=\"heading-anchor\"\u003e\u0026#x3C;/a\u003e\n        \u0026#x3C;h3\u003e{children}\u0026#x3C;/h3\u003e\n      \u0026#x3C;/\u003e\n    );\n  };\n  return {\n    code({ node, inline, className, children, ...props }) {\n      ...\n    },\n    h1({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n    h2({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n    h3({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n  };\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you inspect the output in your browser, you should see \u003ccode\u003e\u0026#x3C;a\u003e\u003c/code\u003e tags with \u003ccode\u003eid\u003c/code\u003e and class set to \u003ccode\u003eheading-anchors\u003c/code\u003e before headings.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/anchor-before-heading.png\" alt=\"Anchor Before Heading\"\u003e\u003c/p\u003e\n\u003cp\u003eModify \u003ccode\u003epages/posts/[slug].js\u003c/code\u003e to add a sidebar to the blog page. The sidebar and content are the children of the wrapper \u003ccode\u003e\u0026#x3C;div\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts/[slug].js\n\nexport default function Post({ slug, post }) {\n  return (\n    \u0026#x3C;div className=\"post\"\u003e\n      \u0026#x3C;h1\u003e{post.title}\u0026#x3C;/h1\u003e\n      \u0026#x3C;p className=\"desc\"\u003e{post.description}\u0026#x3C;/p\u003e\n      \u0026#x3C;div className=\"meta\"\u003e\n        \u0026#x3C;span\u003e{`By ${post.author}`}\u0026#x3C;/span\u003e\n        \u0026#x3C;span\u003e{post.date}\u0026#x3C;/span\u003e\n      \u0026#x3C;/div\u003e\n      \u0026#x3C;div className=\"wrapper\"\u003e\n        \u0026#x3C;aside className=\"sidebar\"\u003e\n          \u0026#x3C;div className=\"toc\"\u003e\n            \u0026#x3C;h1\u003eTable of Contents\u0026#x3C;/h1\u003e\n            {post.headingAnchors.length \u003e 0 \u0026#x26;\u0026#x26; (\n              \u0026#x3C;ul\u003e\n                {post.headingAnchors.map((anchor) =\u003e {\n                  return (\n                    \u0026#x3C;li\n                      id={`toc-${anchor.anchorId}`}\n                      key={anchor.anchorId}\n                      className={`ml${anchor.heading[1]} toc-anchor`}\n                    \u003e\n                      \u0026#x3C;a href={`#${anchor.anchorId}`}\u003e{anchor.title}\u0026#x3C;/a\u003e\n                    \u0026#x3C;/li\u003e\n                  );\n                })}\n              \u0026#x3C;/ul\u003e\n            )}\n          \u0026#x3C;/div\u003e\n        \u0026#x3C;/aside\u003e\n        \u0026#x3C;article className=\"content\"\u003e\n          \u0026#x3C;Markdown\u003e{post.contentMarkdown}\u0026#x3C;/Markdown\u003e\n        \u0026#x3C;/article\u003e\n      \u0026#x3C;/div\u003e\n    \u0026#x3C;/div\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe apply some styles to align the sidebar to the right and make it sticky when we scroll down the page. If the window's width is less than 1024px, the sidebar will be placed on top of the article. However, for windows width bigger than 1024px, the sidebar will be on the right side of the page, sticking to the top while scrolling.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/* styles/global.css */\n\n.ml1 {\n  margin-left: 1rem;\n}\n\n.ml2 {\n  margin-left: 2rem;\n}\n\n.ml3 {\n  margin-left: 3rem;\n}\n\n.post {\n  width: 1024px;\n  margin: 0 auto;\n}\n\n.post .desc {\n  margin-top: 0;\n}\n\n.post .meta {\n  display: flex;\n  flex-direction: row;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\n.post .wrapper {\n  display: flex;\n  flex-direction: column;\n}\n\n.post .content {\n  margin: 2rem 0;\n}\n\n.post .sidebar {\n  display: flex;\n  flex-direction: column;\n  margin-left: var(--margin);\n}\n\n.post .toc ul {\n  padding: 0;\n}\n\n.post .toc li {\n  list-style-type: none;\n  font-weight: normal;\n}\n\n.post .toc li.active {\n  font-weight: 800 !important;\n}\n\n@media (min-width: 1024px) {\n  .post .wrapper {\n    flex-direction: row-reverse;\n  }\n\n  .post .sidebar {\n    align-self: flex-start;\n    width: 300px;\n    position: -webkit-sticky;\n    position: sticky;\n    top: 1rem;\n  }\n\n  .post .content {\n    width: calc(100% - var(--margin) - 300px);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eActive ToC Items\u003c/h2\u003e\n\u003cp\u003eTo make the items in the table of contents re-act and become emphasized during the scroll event, first, we have to capture the \u003ccode\u003escroll\u003c/code\u003e event. To achieve this effect, we create a state named \u003ccode\u003escrollTop\u003c/code\u003e with \u003ccode\u003euseState()\u003c/code\u003e and set its initial value to \u003ccode\u003e0\u003c/code\u003e. Then we capture its changes using the \u003ccode\u003euseEffect(() =\u003e {}, [scrollTop])\u003c/code\u003e hook inside the \u003ccode\u003ePost\u003c/code\u003e component.\u003c/p\u003e\n\u003cp\u003eTo capture the \u003ccode\u003escroll\u003c/code\u003e event, we call \u003ccode\u003eaddEventListener\u003c/code\u003e on the \u003ccode\u003ewindow\u003c/code\u003e object. Don't forget to call \u003ccode\u003eremoveEventListener\u003c/code\u003e when \u003ccode\u003euseEffect()\u003c/code\u003e is finished.\u003c/p\u003e\n\u003cp\u003eWe call \u003ccode\u003eupdateTocAnchors()\u003c/code\u003e on each scroll update. This method searches for the heading anchors visible on the browser's window and highlights the corresponding item on the table of contents widget based on the heading anchor ID.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts/[slug].js\n\nimport { getPost, getPostsSlugs } from \"../../libs/posts\";\nimport Markdown from \"../../components/markdown\";\n\nimport { useState, useEffect } from \"react\"; // React hooks\n\nexport async function getStaticPaths() { ... }\n\nexport async function getStaticProps({ params }) { ... }\n\nexport default function Post({ slug, post }) {\n  const [scrollTop, setScrollTop] = useState(0);\n\n  useEffect(() =\u003e {\n    const updateTocAnchors = (e) =\u003e {\n      const headingAnchors = e.target.documentElement.querySelectorAll(\n        \".post .article .heading-anchor\"\n      );\n      if (headingAnchors.length === 0) return;\n      const activeHeadingAnchors = Array.from(headingAnchors).filter(\n        (anchor) =\u003e {\n          const rect = anchor.getBoundingClientRect();\n          return (\n            rect.top \u003e= 0 \u0026#x26;\u0026#x26;\n            rect.left \u003e= 0 \u0026#x26;\u0026#x26;\n            rect.bottom \u0026#x3C;= e.target.documentElement.clientHeight \u0026#x26;\u0026#x26;\n            rect.right \u0026#x3C;= e.target.documentElement.clientWidth\n          );\n        }\n      );\n      if (activeHeadingAnchors.length === 0) return;\n      // Deactive all ToC anchors\n      const tocAnchors = e.target.documentElement.querySelectorAll(\n        \".post .sidebar .toc .toc-anchor\"\n      );\n      if (tocAnchors.length === 0) return;\n      Array.from(tocAnchors).forEach((anchor) =\u003e {\n        anchor.classList.remove(\"active\");\n      });\n      // Active current ToC anchor\n      const tocAnchorId = `toc-${activeHeadingAnchors[0].id}`;\n      const activeTocAnchor = e.target.documentElement.querySelector(\n        `#${tocAnchorId}`\n      );\n      if (!activeTocAnchor) return;\n      activeTocAnchor.classList.add(\"active\");\n    };\n\n    // Capturing the `scroll` event\n    const onScroll = (e) =\u003e {\n      const currScrollTop = e.target.documentElement.scrollTop;\n      setScrollTop((prevScrollTop, props) =\u003e {\n        updateTocAnchors(e);\n        if (Math.abs(prevScrollTop - currScrollTop) \u003e 200) {\n          return currScrollTop;\n        }\n      });\n    };\n    window.addEventListener(\"scroll\", onScroll);\n    return () =\u003e window.removeEventListener(\"scroll\", onScroll);\n  }, [scrollTop]);\n\n  return ( ... );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter combining all the codes and logic, the results will be as follows:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/article-with-toc.png\" alt=\"Article with ToC\"\u003e\u003c/p\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eWe are done! We have created an auto-generated table of contents, which can highlight its items based on the current scrolling position.\u003c/p\u003e\n\u003cp\u003eYou can find the source code on the \u003ca href=\"https://github.com/mirbostani/nextjs-markdown-blog-with-toc\"\u003enextjs-markdown-blog-with-toc\u003c/a\u003e repository.\u003c/p\u003e\n","contentHtmlWithAnchors":"\u003ch2\u003eIntroduction\u003ca id=\"introduction\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eWith all the available features offered in Next.js, you can easily create a full-fledged blog with markdown and Latex support. It enables you to write the articles in a markdown file and publish them statically. The blog pages will be generated based on the name of the markdown files, their YAML metadata, and content. Each markdown file is an article that will be rendered as an HTML page. However, to easily navigate through the page, we need a dynamic table of contents that enables us to jump to a specific heading and shows the current position in the article. In this article, we are going to build an auto-generated table of contents based on the headings of a markdown file. The output results will be as follows:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/screenshot.gif\" alt=\"Next.js Markdown Blog with ToC support\"\u003e\u003c/p\u003e\n\u003cp\u003eTo view the full source code, you can visit \u003ca href=\"https://github.com/mirbostani/nextjs-markdown-blog-with-toc\"\u003enextjs-markdown-blog-with-toc\u003c/a\u003e or clone the repository:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ git clone https://github.com/mirbostani/nextjs-markdown-blog-with-toc\n$ cd nextjs-markdown-blog-with-toc\n$ npm install\n$ npm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eCreate a Next.js App\u003ca id=\"create_a_next_js_app\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThe initial step is to create a Next.js project. First, make a new directory and navigate to it. Use the \u003ccode\u003ecreate-next-app\u003c/code\u003e tool to initialize a Next.js project and install dependencies.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ mkdir nextjs-markdown-blog-with-toc \u0026amp;\u0026amp; cd nextjs-markdown-blog-with-toc\n$ npx create-next-app . --use-npm\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you haven't already had \u003ccode\u003ecreate-next-app\u003c/code\u003e on your system, install this CLI tool with \u003ccode\u003enpm\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm i create-next-app\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eAdd \"Posts\" Page\u003ca id=\"add__posts__page\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eFirst, we want to show a list of articles containing titles, descriptions, the author's name, and the publish date. Therefore, we need a top-level page to present this list. A suitable route would be \u003ccode\u003elocalhost:3000/posts\u003c/code\u003e. To add it to the website, create the \u003ccode\u003epages/posts.js\u003c/code\u003e file.\u003c/p\u003e\n\u003cp\u003eEvery \u003ccode\u003e.js\u003c/code\u003e file inside the \u003ccode\u003epages\u003c/code\u003e directory maps to a route on your website.\u003c/p\u003e\n\u003cp\u003eInside the \u003ccode\u003epages/posts.js\u003c/code\u003e file, write a function named \u003ccode\u003ePosts\u003c/code\u003e and export it as the default component. \u003ccode\u003ePosts\u003c/code\u003e receives \u003ccode\u003eprops.posts\u003c/code\u003e as the input parameter that is an array of objects. Each object is associated with a single markdown file, i.e., a single blog post. Every post has a slug, which is the last part of the URL of the post, a title, description, author's name, and a publish date.\u003c/p\u003e\n\u003cp\u003eBy iterating over the \u003ccode\u003eposts\u003c/code\u003e array with the \u003ccode\u003eArray.prototype.map()\u003c/code\u003e function, we can create a list of blog posts containing the blog title and description along with its metadata. Each blog post is wrapped around a \u003ccode\u003e\u0026lt;Link\u0026gt;\u003c/code\u003e component. It lets you navigate to different pages inside your website. Viewers of the website should be able to browse any blog post by simply clicking on it in the list. Therefore, \u003ccode\u003ehref\u003c/code\u003e attribute of the \u003ccode\u003e\u0026lt;Link\u0026gt;\u003c/code\u003e is set to \u003ccode\u003e/posts/\u0026lt;slug\u0026gt;\u003c/code\u003e. Additionally, due to the uniqueness of the \u003ccode\u003eslug\u003c/code\u003e we can use it as the value of the \u003ccode\u003ekey\u003c/code\u003e attribute for \u003ccode\u003emap\u003c/code\u003e's returned components. This \u003ccode\u003ekey\u003c/code\u003e is mandatory for React.js to be able to determine the changes in the components of an array.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts.js\n\nimport Link from \"next/link\";\n\nexport default function Posts({ posts }) {\n  return (\n    \u0026lt;div className=\"posts\"\u0026gt;\n      {posts.length \u0026gt; 0 \u0026amp;\u0026amp;\n        posts.map(({ slug, title, description, author, date }) =\u0026gt; {\n          return (\n            \u0026lt;Link key={slug} href={`/posts/${slug}`}\u0026gt;\n              \u0026lt;div className=\"card\"\u0026gt;\n                \u0026lt;h1\u0026gt;{title}\u0026lt;/h1\u0026gt;\n                \u0026lt;p className=\"desc\"\u0026gt;{description}\u0026lt;/p\u0026gt;\n                \u0026lt;p className=\"meta\"\u0026gt;\n                  \u0026lt;span\u0026gt;{`By ${author}`}\u0026lt;/span\u0026gt;\n                  \u0026lt;span\u0026gt;{date}\u0026lt;/span\u0026gt;\n                \u0026lt;/p\u0026gt;\n              \u0026lt;/div\u0026gt;\n            \u0026lt;/Link\u0026gt;\n          );\n        })}\n    \u0026lt;/div\u0026gt;\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo populate \u003ccode\u003eprops.posts\u003c/code\u003e of the \u003ccode\u003ePosts\u003c/code\u003e component with the data associated with the markdown files, we can make use of \u003ccode\u003egetStaticProps()\u003c/code\u003e method of the \u003ccode\u003eposts.js\u003c/code\u003e page. On website's static built, it returns the \u003ccode\u003eprops\u003c/code\u003e object and passes it to the default component of the page, i.e., the \u003ccode\u003ePosts\u003c/code\u003e function. Inside, we call a function named \u003ccode\u003egetPosts()\u003c/code\u003e to retrieve posts' data.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts.js\n\nimport Link from \"next/link\";\nimport { getPosts } from \"../libs/posts\";\n\nexport async function getStaticProps() {\n  const posts = getPosts({ page: 1, limit: 10 });\n  return {\n    props: {\n      posts,\n    },\n  };\n}\n\nexport default function Posts({ posts }) { ... }\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eParse Markdown Files\u003ca id=\"parse_markdown_files\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eFunctions related to the data retrieval are in the \u003ccode\u003elib/posts.js\u003c/code\u003e file. We define the \u003ccode\u003egetPosts()\u003c/code\u003e function inside it. This function reads all the markdown files inside a specified directory (\u003ccode\u003e./posts/*.md\u003c/code\u003e), parses the files' content to extract the metadata in YAML format, and applies a pagination mechanism.\u003c/p\u003e\n\u003cp\u003eA simple example of a markdown file with front matter is as follows:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e---\ntitle: \"How to create a Next.js App\"\ndescription: \"In this post you will learn how to create a Next.js application\"\ndate: \"2022-05-24\"\nauthor: \"mirbostani\"\n---\n\n## Introduction\n\nNext.js is an open-source web development framework.\n\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo parse YAML front matter, we use \u003ca href=\"https://www.npmjs.com/package/gray-matter\"\u003egray-matter\u003c/a\u003e package.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save gray-matter\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAs the \u003ccode\u003e*.md\u003c/code\u003e files are placed inside the \u003ccode\u003eposts\u003c/code\u003e directory, we resolve the path using \u003ccode\u003epath.resolve(\"posts\")\u003c/code\u003e. We read the file names synchronously with \u003ccode\u003efs.readdirSync()\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe file name without the trailing \u003ccode\u003e.md\u003c/code\u003e string is the slug. We read the file content by \u003ccode\u003efs.readFileSync()\u003c/code\u003e and parse the content with the \u003ccode\u003ematter\u003c/code\u003e function. We use the \u003ccode\u003ematter(content).data\u003c/code\u003e object to get the returned values. These properties are stored in the \u003ccode\u003eposts\u003c/code\u003e array. Each post object contains slug, content in markdown, metadata, and other properties.\u003c/p\u003e\n\u003cp\u003eBefore returning the \u003ccode\u003eposts\u003c/code\u003e array, we call the \u003ccode\u003eArray.prototype.sort()\u003c/code\u003e method to sort the data based on the \u003ccode\u003edate\u003c/code\u003e metadata.\u003c/p\u003e\n\u003cp\u003eThe last line implements pagination based on the \u003ccode\u003epage\u003c/code\u003e and \u003ccode\u003elimit\u003c/code\u003e parameters.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// libs/posts.js\n\nimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nexport function getPosts({ page, limit }) {\n  page = page ?? 1;\n  limit = limit ?? 10;\n\n  // Read the markdown files (`posts/*.md`) \n  const dirPath = path.resolve(\"posts\");\n  const fileNames = fs.readdirSync(dirPath);\n\n  // Prepare posts containing slug, content, and metadata\n  let posts = fileNames.map((fileName) =\u0026gt; {\n    const slug = fileName.replace(/\\.md$/i, \"\");\n    const filePath = path.join(dirPath, fileName);\n    const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n    const matterObject = matter(content);\n    return {\n      slug,\n      ...matterObject.data,\n    };\n  });\n\n  // Sort posts based on `date`\n  posts\n    .sort(({ date: a }, { date: b }) =\u0026gt; {\n      if (a \u0026gt; b) return 1;\n      else if (a \u0026lt; b) return -1;\n      else return 0;\n    })\n    .reverse();\n\n  // Pagination\n  return posts.slice((page - 1) * limit, page * limit);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eStart Dev Server\u003ca id=\"start_dev_server\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eRun the \u003ccode\u003enext dev -p 3000\u003c/code\u003e command to start the development server. It is assigned to the NPM's \u003ccode\u003edev\u003c/code\u003e script in \u003ccode\u003epackage.json\u003c/code\u003e file.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNavigate to \u003ccode\u003elocalhost:3000/posts\u003c/code\u003e in your favorite browser.\u003c/p\u003e\n\u003ch2\u003eApply Styles\u003ca id=\"apply_styles\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAdd the following CSS rules to the \u003ccode\u003estyles/global.css\u003c/code\u003e file:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/* styles/globals.css */\n\n:root {\n  --muted-color: gray;\n  --hover-color: #f7f7f7;\n}\n\n.posts {\n  margin: 2rem auto;\n  max-width: 1024px;\n  border: 1px solid var(--muted-color);\n}\n\n.card {\n  padding: 1rem 2rem;\n  cursor: pointer;\n}\n\n.card:hover {\n  background-color: var(--hover-color);\n}\n\n.card .desc {\n  margin-top: 0;\n}\n\n.card .meta {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe class names are added to the \u003ccode\u003ePosts\u003c/code\u003e component's children in \u003ccode\u003epages/posts.js\u003c/code\u003e using the \u003ccode\u003eclassName\u003c/code\u003e attribute. The following output will be displayed on your browser.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/posts-list.png\" alt=\"Posts list\"\u003e\u003c/p\u003e\n\u003ch2\u003eAdd Blog Page\u003ca id=\"add_blog_page\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eCreate the \u003ccode\u003epages/posts/[slug].js\u003c/code\u003e file. The \u003ccode\u003ePost\u003c/code\u003e component receives two parameters: \u003ccode\u003eslug\u003c/code\u003e and \u003ccode\u003epost\u003c/code\u003e. They are populated by the \u003ccode\u003egetStaticProps()\u003c/code\u003e method. When a URL like \u003ccode\u003elocalhost:3000/posts/\u0026lt;slug\u0026gt;\u003c/code\u003e is opened in a browser, the value of \u003ccode\u003e\u0026lt;slug\u0026gt;\u003c/code\u003e part of the URL will be accessible in \u003ccode\u003egetStaticProps()\u003c/code\u003e using \u003ccode\u003eprops.params.slug\u003c/code\u003e variable.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts/[slug].js\n\nimport { getPost, getPostsSlugs } from \"../../libs/posts\";\n\nexport async function getStaticPaths() {\n  const paths = getPostsSlugs();\n  return {\n    paths,\n    fallback: false,\n  };\n}\n\nexport async function getStaticProps({ params }) {\n  const slug = params.slug;\n  const post = await getPost(slug);\n  return {\n    props: {\n      slug,\n      post,\n    },\n  };\n}\n\nexport default function Post({ slug, post }) {\n  return (\n    \u0026lt;div className=\"post\"\u0026gt;\n      \u0026lt;h1\u0026gt;{post.title}\u0026lt;/h1\u0026gt;\n      \u0026lt;p className=\"desc\"\u0026gt;{post.description}\u0026lt;/p\u0026gt;\n      \u0026lt;div className=\"meta\"\u0026gt;\n        \u0026lt;span\u0026gt;{`By ${post.author}`}\u0026lt;/span\u0026gt;\n        \u0026lt;span\u0026gt;{post.date}\u0026lt;/span\u0026gt;\n      \u0026lt;/div\u0026gt;\n      \u0026lt;div className=\"content\"\u0026gt;{post.contentMarkdown}\u0026lt;/div\u0026gt;\n    \u0026lt;/div\u0026gt;\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDefine \u003ccode\u003egetPost()\u003c/code\u003e and \u003ccode\u003egetPostsSlugs()\u003c/code\u003e methods in \u003ccode\u003elibs/posts.js\u003c/code\u003e. In \u003ccode\u003egetPosts()\u003c/code\u003e, \u003ccode\u003eslug\u003c/code\u003e is valid through the passed parameter. We use it to open the markdown file with the same base name, parse its content, and return it along with \u003ccode\u003eslug\u003c/code\u003e and other metadata.\u003c/p\u003e\n\u003cp\u003eHere, \u003ccode\u003egetPostsSlugs()\u003c/code\u003e is responsible for providing all the available slugs. They are used in Next.js to build the static website's internal links. We iterate over all the file names, extract, and return the slugs.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nexport function getPosts({ page, limit }) { ... }\n\nexport async function getPost(slug) {\n  const dirPath = path.resolve(\"posts\");\n  const filePath = path.join(dirPath, `${slug}.md`);\n  const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n  const matterObject = matter(content);\n  return {\n    slug,\n    contentMarkdown: matterObject.content,\n    ...matterObject.data,\n  };\n}\n\nexport function getPostsSlugs() {\n  const dirPath = path.resolve(\"posts\");\n  const fileNames = fs.readdirSync(dirPath);\n  return fileNames.map((fileName) =\u0026gt; {\n    const slug = fileName.replace(/\\.md/, \"\");\n    return {\n      params: {\n        slug,\n      },\n    };\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eView Blog Post\u003ca id=\"view_blog_post\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eTo check if the functions are working properly, navigate to the \u003ccode\u003elocalhost:3000/posts/\u0026lt;slug\u0026gt;\u003c/code\u003e link in which \u003ccode\u003e\u0026lt;slug\u0026gt;\u003c/code\u003e is the base name of a markdown file. For example, if your file is located in \u003ccode\u003eposts/how-to-create-a-nextjs-app.md\u003c/code\u003e, open the \u003ccode\u003elocalhost:3000/posts/how-to-create-a-nextjs-app\u003c/code\u003e URL.\u003c/p\u003e\n\u003cp\u003eIn files' path, \u003ccode\u003eposts\u003c/code\u003e refers to a local directory; however, in URLs, \u003ccode\u003eposts\u003c/code\u003e refers to the directory located in \u003ccode\u003epages/posts\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/post-raw.png\" alt=\"Raw blog post\"\u003e\u003c/p\u003e\n\u003cp\u003eNow apply some styles by modifying \u003ccode\u003estyles/global.css\u003c/code\u003e and adding the following classes.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e.post {\n  width: 1024px;\n  margin: 0 auto;\n}\n\n.desc {\n  margin-top: 0;\n}\n\n.meta {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\n.content {\n    margin: 2rem 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf your dev server is running, you will see the changes instantaneously.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/post-styled.png\" alt=\"Styled blog post\"\u003e\u003c/p\u003e\n\u003ch2\u003eRender Markdown\u003ca id=\"render_markdown\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAs you can see, the markdown content is displayed as plain text. We need some tools to convert it to a proper HTML format. Install the following packages in your project:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save react-markdown remark-math rehype-katex react-syntax-highlighter\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCreate a \u003ccode\u003eMarkdown\u003c/code\u003e component in the \u003ccode\u003ecomponents/markdown.js\u003c/code\u003e file. This component is a wrapper for \u003ca href=\"https://www.npmjs.com/package/react-markdown\"\u003e\u003ccode\u003eReactMarkdown\u003c/code\u003e\u003c/a\u003e component, which is responsible for converting markdown to HTML.\u003c/p\u003e\n\u003cp\u003eTo support rendering mathematic formulas on the website, we use the \u003ca href=\"https://www.npmjs.com/package/remark-math\"\u003eremark-math\u003c/a\u003e and \u003ca href=\"https://www.npmjs.com/package/rehype-katex\"\u003erehype-katex\u003c/a\u003e packages.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eReactMarkdown\u003c/code\u003e has a \u003ccode\u003ecomponents\u003c/code\u003e attribute. You can pass a function to access HTML tags and add features. To highlight the code, first, we access the \u003ccode\u003e\u0026lt;code\u0026gt;\u003c/code\u003e tag inside the \u003ccode\u003ecomponents()\u003c/code\u003e function. We filter the ones with the \u003ccode\u003elanguage-*\u003c/code\u003e class, for example, \u003ccode\u003elanguage-js\u003c/code\u003e. Then, we wrap it with the \u003ccode\u003eSyntaxHighlighter\u003c/code\u003e component, passing Prism style, setting the language, enabling line numbers, passing the children, etc. However, when there is no match in the \u003ccode\u003elanguage-*\u003c/code\u003e CSS class search, we return a plain \u003ccode\u003e\u0026lt;code\u0026gt;\u003c/code\u003e tag accordingly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// components/markdown.js\n\nimport ReactMarkdown from \"react-markdown\";\n\n// Math support\nimport remarkMath from \"remark-math\";\nimport rehypeKatex from \"rehype-katex\";\nimport \"katex/dist/katex.min.css\";\n\n// Syntax highlighting support\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { prism as LightStyle } from \"react-syntax-highlighter/dist/cjs/styles/prism\";\n\nfunction components() {\n  return {\n    code({ node, inline, className, children, ...props }) {\n      const match = /language-(\\w+)/.exec(className || \"\");\n      return !inline \u0026amp;\u0026amp; match ? (\n        // Highlighted code\n        \u0026lt;\u0026gt;\n          \u0026lt;SyntaxHighlighter\n            style={LightStyle}\n            language={match[1]}\n            PreTag=\"div\"\n            // eslint-disable-next-line react/no-children-prop\n            children={String(children).replace(/\\n$/, \"\")}\n            showLineNumbers={true}\n            customStyle={{\n              backgroundColor: \"rgba(245, 245, 245, 1)\",\n              opacity: \"1\",\n            }}\n            codeTagProps={{\n              style: {\n                backgroundColor: \"transparent\",\n              },\n            }}\n            {...props}\n          /\u0026gt;\n        \u0026lt;/\u0026gt;\n      ) : (\n        // Plain code\n        \u0026lt;code {...props}\u0026gt;\n          {children}\n        \u0026lt;/code\u0026gt;\n      );\n    },\n  };\n}\n\n// Wrapper for ReactMarkdown\nexport default function Markdown({ children }) {\n  return (\n    \u0026lt;ReactMarkdown\n      remarkPlugins={[remarkMath]}\n      rehypePlugins={[rehypeKatex]}\n      components={components()}\n    \u0026gt;\n      {children}\n    \u0026lt;/ReactMarkdown\u0026gt;\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow use \u003ccode\u003eMarkdown\u003c/code\u003e by updating the \u003ccode\u003ePost\u003c/code\u003e component in \u003ccode\u003epages/posts/[slug].js\u003c/code\u003e. Pass \u003ccode\u003epost.contentMarkdown\u003c/code\u003e to the \u003ccode\u003eMarkdown\u003c/code\u003e component as a child.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eexport default function Post({ slug, post }) {\n  return (\n    \u0026lt;div className=\"post\"\u0026gt;\n      \u0026lt;h1\u0026gt;{post.title}\u0026lt;/h1\u0026gt;\n      \u0026lt;p className=\"desc\"\u0026gt;{post.description}\u0026lt;/p\u0026gt;\n      \u0026lt;div className=\"meta\"\u0026gt;\n        \u0026lt;span\u0026gt;{`By ${post.author}`}\u0026lt;/span\u0026gt;\n        \u0026lt;span\u0026gt;{post.date}\u0026lt;/span\u0026gt;\n      \u0026lt;/div\u0026gt;\n      \u0026lt;article className=\"content\"\u0026gt;\n        \u0026lt;Markdown\u0026gt;{post.contentMarkdown}\u0026lt;/Markdown\u0026gt;\n      \u0026lt;/article\u0026gt;\n    \u0026lt;/div\u0026gt;\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere is an example:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/code-math-in-markdown.png\" alt=\"Code and Math in Markdown\"\u003e\u003c/p\u003e\n\u003ch2\u003eCreate ToC Widget\u003ca id=\"create_toc_widget\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIn this step, we want to create an auto-generated table of contents based on the headings available in the markdown file of the article. The following packages are required:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ npm install --save remark remark-html jsdom\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eModify the \u003ccode\u003elibs/posts.js\u003c/code\u003e file by adding the \u003ccode\u003egetHeadingAnchors()\u003c/code\u003e function to it. In \u003ccode\u003egetPost()\u003c/code\u003e method, we use \u003ccode\u003eremark()\u003c/code\u003e to parse the markdown content to HTML. Then, we pass it to the \u003ccode\u003egetHeadingAnchors()\u003c/code\u003e function, which is responsible for finding all the \u003ccode\u003e\u0026lt;h1\u0026gt;\u003c/code\u003e, \u003ccode\u003e\u0026lt;h2\u0026gt;\u003c/code\u003e, and \u003ccode\u003e\u0026lt;h3\u0026gt;\u003c/code\u003e tags, creating an ID based on the text content of the tag, and return the heading's type (\u003ccode\u003eheading\u003c/code\u003e), title (\u003ccode\u003etitle\u003c/code\u003e), and prepared ID (\u003ccode\u003eanchorId\u003c/code\u003e). Finally, \u003ccode\u003egetPost()\u003c/code\u003e returns the heading anchors along with other properties.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nimport { remark } from \"remark\";\nimport remarkHtml from \"remark-html\";\nimport jsdom from \"jsdom\";\n\nexport function getPosts({ page, limit }) { ... }\n\nexport async function getPost(slug) {\n  const dirPath = path.resolve(\"posts\");\n  const filePath = path.join(dirPath, `${slug}.md`);\n  const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n  const matterObject = matter(content);\n\n  // Get heading anchors\n  const processedContent = await remark()\n    .use(remarkHtml)\n    .process(matterObject.content);\n  const contentHtml = processedContent.toString();\n  const { headingAnchors, contentHtmlWithAnchors } =\n    getHeadingAnchors(contentHtml);\n\n  return {\n    slug,\n    headingAnchors, // return the anchors\n    contentMarkdown: matterObject.content,\n    ...matterObject.data,\n  };\n}\n\n// Find and return anchors based on headings\nfunction getHeadingAnchors(str) {\n  const headingAnchors = [];\n  const dom = new jsdom.JSDOM(`\u0026lt;div id=\"headinganchors\"\u0026gt;${str}\u0026lt;/div\u0026gt;`);\n  dom.window.document.querySelectorAll(\"h1, h2, h3\").forEach((hx) =\u0026gt; {\n    const id = hx.textContent.toLowerCase().replace(/\\s+|[^a-z0-9]/g, \"_\");\n    const anchor = dom.window.document.createElement(\"a\");\n    anchor.id = id;\n    hx.insertBefore(anchor, null);\n\n    headingAnchors.push({\n      heading: hx.nodeName.toLowerCase(),\n      title: hx.textContent,\n      anchorId: id,\n    });\n  });\n  const contentHtmlWithAnchors =\n    dom.window.document.getElementById(\"headinganchors\").innerHTML;\n  return {\n    headingAnchors,\n    contentHtmlWithAnchors,\n  };\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor example, applying \u003ccode\u003egetHeadingAnchors()\u003c/code\u003e on the following markdown content:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e# Heading 1\n\n## Heading 2\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewill result in:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e[\n   {\n     heading: \"h1\",\n     title: \"Heading 1\",\n     anchorId: \"heading-1\"\n   },\n   {\n     heading: \"h2\",\n     title: \"Heading 2\",\n     anchorId: \"heading-2\"\n   },\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, on the output HTML content, we need to add anchors before headings so that when we click on a link in the table of content, the browser will jump to the respective anchor in the article.\u003c/p\u003e\n\u003cp\u003eTo do so, update the \u003ccode\u003ecomponents\u003c/code\u003e function in \u003ccode\u003ecomponents/markdown.js\u003c/code\u003e to add anchors before headings:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efunction components() {\n  const hx = (children) =\u0026gt; {\n    const id = children\n      .join(\"\")\n      .toLowerCase()\n      .replace(/\\s+|[^a-z0-9]/gi, \"_\");\n    return (\n      \u0026lt;\u0026gt;\n        \u0026lt;a id={id} className=\"heading-anchor\"\u0026gt;\u0026lt;/a\u0026gt;\n        \u0026lt;h3\u0026gt;{children}\u0026lt;/h3\u0026gt;\n      \u0026lt;/\u0026gt;\n    );\n  };\n  return {\n    code({ node, inline, className, children, ...props }) {\n      ...\n    },\n    h1({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n    h2({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n    h3({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n  };\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you inspect the output in your browser, you should see \u003ccode\u003e\u0026lt;a\u0026gt;\u003c/code\u003e tags with \u003ccode\u003eid\u003c/code\u003e and class set to \u003ccode\u003eheading-anchors\u003c/code\u003e before headings.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/anchor-before-heading.png\" alt=\"Anchor Before Heading\"\u003e\u003c/p\u003e\n\u003cp\u003eModify \u003ccode\u003epages/posts/[slug].js\u003c/code\u003e to add a sidebar to the blog page. The sidebar and content are the children of the wrapper \u003ccode\u003e\u0026lt;div\u0026gt;\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts/[slug].js\n\nexport default function Post({ slug, post }) {\n  return (\n    \u0026lt;div className=\"post\"\u0026gt;\n      \u0026lt;h1\u0026gt;{post.title}\u0026lt;/h1\u0026gt;\n      \u0026lt;p className=\"desc\"\u0026gt;{post.description}\u0026lt;/p\u0026gt;\n      \u0026lt;div className=\"meta\"\u0026gt;\n        \u0026lt;span\u0026gt;{`By ${post.author}`}\u0026lt;/span\u0026gt;\n        \u0026lt;span\u0026gt;{post.date}\u0026lt;/span\u0026gt;\n      \u0026lt;/div\u0026gt;\n      \u0026lt;div className=\"wrapper\"\u0026gt;\n        \u0026lt;aside className=\"sidebar\"\u0026gt;\n          \u0026lt;div className=\"toc\"\u0026gt;\n            \u0026lt;h1\u0026gt;Table of Contents\u0026lt;/h1\u0026gt;\n            {post.headingAnchors.length \u0026gt; 0 \u0026amp;\u0026amp; (\n              \u0026lt;ul\u0026gt;\n                {post.headingAnchors.map((anchor) =\u0026gt; {\n                  return (\n                    \u0026lt;li\n                      id={`toc-${anchor.anchorId}`}\n                      key={anchor.anchorId}\n                      className={`ml${anchor.heading[1]} toc-anchor`}\n                    \u0026gt;\n                      \u0026lt;a href={`#${anchor.anchorId}`}\u0026gt;{anchor.title}\u0026lt;/a\u0026gt;\n                    \u0026lt;/li\u0026gt;\n                  );\n                })}\n              \u0026lt;/ul\u0026gt;\n            )}\n          \u0026lt;/div\u0026gt;\n        \u0026lt;/aside\u0026gt;\n        \u0026lt;article className=\"content\"\u0026gt;\n          \u0026lt;Markdown\u0026gt;{post.contentMarkdown}\u0026lt;/Markdown\u0026gt;\n        \u0026lt;/article\u0026gt;\n      \u0026lt;/div\u0026gt;\n    \u0026lt;/div\u0026gt;\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe apply some styles to align the sidebar to the right and make it sticky when we scroll down the page. If the window's width is less than 1024px, the sidebar will be placed on top of the article. However, for windows width bigger than 1024px, the sidebar will be on the right side of the page, sticking to the top while scrolling.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/* styles/global.css */\n\n.ml1 {\n  margin-left: 1rem;\n}\n\n.ml2 {\n  margin-left: 2rem;\n}\n\n.ml3 {\n  margin-left: 3rem;\n}\n\n.post {\n  width: 1024px;\n  margin: 0 auto;\n}\n\n.post .desc {\n  margin-top: 0;\n}\n\n.post .meta {\n  display: flex;\n  flex-direction: row;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\n.post .wrapper {\n  display: flex;\n  flex-direction: column;\n}\n\n.post .content {\n  margin: 2rem 0;\n}\n\n.post .sidebar {\n  display: flex;\n  flex-direction: column;\n  margin-left: var(--margin);\n}\n\n.post .toc ul {\n  padding: 0;\n}\n\n.post .toc li {\n  list-style-type: none;\n  font-weight: normal;\n}\n\n.post .toc li.active {\n  font-weight: 800 !important;\n}\n\n@media (min-width: 1024px) {\n  .post .wrapper {\n    flex-direction: row-reverse;\n  }\n\n  .post .sidebar {\n    align-self: flex-start;\n    width: 300px;\n    position: -webkit-sticky;\n    position: sticky;\n    top: 1rem;\n  }\n\n  .post .content {\n    width: calc(100% - var(--margin) - 300px);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eActive ToC Items\u003ca id=\"active_toc_items\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eTo make the items in the table of contents re-act and become emphasized during the scroll event, first, we have to capture the \u003ccode\u003escroll\u003c/code\u003e event. To achieve this effect, we create a state named \u003ccode\u003escrollTop\u003c/code\u003e with \u003ccode\u003euseState()\u003c/code\u003e and set its initial value to \u003ccode\u003e0\u003c/code\u003e. Then we capture its changes using the \u003ccode\u003euseEffect(() =\u0026gt; {}, [scrollTop])\u003c/code\u003e hook inside the \u003ccode\u003ePost\u003c/code\u003e component.\u003c/p\u003e\n\u003cp\u003eTo capture the \u003ccode\u003escroll\u003c/code\u003e event, we call \u003ccode\u003eaddEventListener\u003c/code\u003e on the \u003ccode\u003ewindow\u003c/code\u003e object. Don't forget to call \u003ccode\u003eremoveEventListener\u003c/code\u003e when \u003ccode\u003euseEffect()\u003c/code\u003e is finished.\u003c/p\u003e\n\u003cp\u003eWe call \u003ccode\u003eupdateTocAnchors()\u003c/code\u003e on each scroll update. This method searches for the heading anchors visible on the browser's window and highlights the corresponding item on the table of contents widget based on the heading anchor ID.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// pages/posts/[slug].js\n\nimport { getPost, getPostsSlugs } from \"../../libs/posts\";\nimport Markdown from \"../../components/markdown\";\n\nimport { useState, useEffect } from \"react\"; // React hooks\n\nexport async function getStaticPaths() { ... }\n\nexport async function getStaticProps({ params }) { ... }\n\nexport default function Post({ slug, post }) {\n  const [scrollTop, setScrollTop] = useState(0);\n\n  useEffect(() =\u0026gt; {\n    const updateTocAnchors = (e) =\u0026gt; {\n      const headingAnchors = e.target.documentElement.querySelectorAll(\n        \".post .article .heading-anchor\"\n      );\n      if (headingAnchors.length === 0) return;\n      const activeHeadingAnchors = Array.from(headingAnchors).filter(\n        (anchor) =\u0026gt; {\n          const rect = anchor.getBoundingClientRect();\n          return (\n            rect.top \u0026gt;= 0 \u0026amp;\u0026amp;\n            rect.left \u0026gt;= 0 \u0026amp;\u0026amp;\n            rect.bottom \u0026lt;= e.target.documentElement.clientHeight \u0026amp;\u0026amp;\n            rect.right \u0026lt;= e.target.documentElement.clientWidth\n          );\n        }\n      );\n      if (activeHeadingAnchors.length === 0) return;\n      // Deactive all ToC anchors\n      const tocAnchors = e.target.documentElement.querySelectorAll(\n        \".post .sidebar .toc .toc-anchor\"\n      );\n      if (tocAnchors.length === 0) return;\n      Array.from(tocAnchors).forEach((anchor) =\u0026gt; {\n        anchor.classList.remove(\"active\");\n      });\n      // Active current ToC anchor\n      const tocAnchorId = `toc-${activeHeadingAnchors[0].id}`;\n      const activeTocAnchor = e.target.documentElement.querySelector(\n        `#${tocAnchorId}`\n      );\n      if (!activeTocAnchor) return;\n      activeTocAnchor.classList.add(\"active\");\n    };\n\n    // Capturing the `scroll` event\n    const onScroll = (e) =\u0026gt; {\n      const currScrollTop = e.target.documentElement.scrollTop;\n      setScrollTop((prevScrollTop, props) =\u0026gt; {\n        updateTocAnchors(e);\n        if (Math.abs(prevScrollTop - currScrollTop) \u0026gt; 200) {\n          return currScrollTop;\n        }\n      });\n    };\n    window.addEventListener(\"scroll\", onScroll);\n    return () =\u0026gt; window.removeEventListener(\"scroll\", onScroll);\n  }, [scrollTop]);\n\n  return ( ... );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter combining all the codes and logic, the results will be as follows:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"../public/post/20220524/article-with-toc.png\" alt=\"Article with ToC\"\u003e\u003c/p\u003e\n\u003ch2\u003eConclusion\u003ca id=\"conclusion\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eWe are done! We have created an auto-generated table of contents, which can highlight its items based on the current scrolling position.\u003c/p\u003e\n\u003cp\u003eYou can find the source code on the \u003ca href=\"https://github.com/mirbostani/nextjs-markdown-blog-with-toc\"\u003enextjs-markdown-blog-with-toc\u003c/a\u003e repository.\u003c/p\u003e\n","contentMarkdown":"\n## Introduction\n\nWith all the available features offered in Next.js, you can easily create a full-fledged blog with markdown and Latex support. It enables you to write the articles in a markdown file and publish them statically. The blog pages will be generated based on the name of the markdown files, their YAML metadata, and content. Each markdown file is an article that will be rendered as an HTML page. However, to easily navigate through the page, we need a dynamic table of contents that enables us to jump to a specific heading and shows the current position in the article. In this article, we are going to build an auto-generated table of contents based on the headings of a markdown file. The output results will be as follows:\n\n![Next.js Markdown Blog with ToC support](../public/post/20220524/screenshot.gif)\n\nTo view the full source code, you can visit [nextjs-markdown-blog-with-toc](https://github.com/mirbostani/nextjs-markdown-blog-with-toc) or clone the repository:\n\n```shell\n$ git clone https://github.com/mirbostani/nextjs-markdown-blog-with-toc\n$ cd nextjs-markdown-blog-with-toc\n$ npm install\n$ npm run dev\n```\n\n## Create a Next.js App\n\nThe initial step is to create a Next.js project. First, make a new directory and navigate to it. Use the `create-next-app` tool to initialize a Next.js project and install dependencies.\n\n```shell\n$ mkdir nextjs-markdown-blog-with-toc \u0026\u0026 cd nextjs-markdown-blog-with-toc\n$ npx create-next-app . --use-npm\n```\n\nIf you haven't already had `create-next-app` on your system, install this CLI tool with `npm`.\n\n```shell\n$ npm i create-next-app\n```\n\n## Add \"Posts\" Page\n\nFirst, we want to show a list of articles containing titles, descriptions, the author's name, and the publish date. Therefore, we need a top-level page to present this list. A suitable route would be `localhost:3000/posts`. To add it to the website, create the `pages/posts.js` file.\n\nEvery `.js` file inside the `pages` directory maps to a route on your website.\n\nInside the `pages/posts.js` file, write a function named `Posts` and export it as the default component. `Posts` receives `props.posts` as the input parameter that is an array of objects. Each object is associated with a single markdown file, i.e., a single blog post. Every post has a slug, which is the last part of the URL of the post, a title, description, author's name, and a publish date.\n\nBy iterating over the `posts` array with the `Array.prototype.map()` function, we can create a list of blog posts containing the blog title and description along with its metadata. Each blog post is wrapped around a `\u003cLink\u003e` component. It lets you navigate to different pages inside your website. Viewers of the website should be able to browse any blog post by simply clicking on it in the list. Therefore, `href` attribute of the `\u003cLink\u003e` is set to `/posts/\u003cslug\u003e`. Additionally, due to the uniqueness of the `slug` we can use it as the value of the `key` attribute for `map`'s returned components. This `key` is mandatory for React.js to be able to determine the changes in the components of an array.\n\n```js\n// pages/posts.js\n\nimport Link from \"next/link\";\n\nexport default function Posts({ posts }) {\n  return (\n    \u003cdiv className=\"posts\"\u003e\n      {posts.length \u003e 0 \u0026\u0026\n        posts.map(({ slug, title, description, author, date }) =\u003e {\n          return (\n            \u003cLink key={slug} href={`/posts/${slug}`}\u003e\n              \u003cdiv className=\"card\"\u003e\n                \u003ch1\u003e{title}\u003c/h1\u003e\n                \u003cp className=\"desc\"\u003e{description}\u003c/p\u003e\n                \u003cp className=\"meta\"\u003e\n                  \u003cspan\u003e{`By ${author}`}\u003c/span\u003e\n                  \u003cspan\u003e{date}\u003c/span\u003e\n                \u003c/p\u003e\n              \u003c/div\u003e\n            \u003c/Link\u003e\n          );\n        })}\n    \u003c/div\u003e\n  );\n}\n```\n\nTo populate `props.posts` of the `Posts` component with the data associated with the markdown files, we can make use of `getStaticProps()` method of the `posts.js` page. On website's static built, it returns the `props` object and passes it to the default component of the page, i.e., the `Posts` function. Inside, we call a function named `getPosts()` to retrieve posts' data.\n\n```js\n// pages/posts.js\n\nimport Link from \"next/link\";\nimport { getPosts } from \"../libs/posts\";\n\nexport async function getStaticProps() {\n  const posts = getPosts({ page: 1, limit: 10 });\n  return {\n    props: {\n      posts,\n    },\n  };\n}\n\nexport default function Posts({ posts }) { ... }\n```\n\n## Parse Markdown Files\n\nFunctions related to the data retrieval are in the `lib/posts.js` file. We define the `getPosts()` function inside it. This function reads all the markdown files inside a specified directory (`./posts/*.md`), parses the files' content to extract the metadata in YAML format, and applies a pagination mechanism.\n\nA simple example of a markdown file with front matter is as follows:\n\n```md\n---\ntitle: \"How to create a Next.js App\"\ndescription: \"In this post you will learn how to create a Next.js application\"\ndate: \"2022-05-24\"\nauthor: \"mirbostani\"\n---\n\n## Introduction\n\nNext.js is an open-source web development framework.\n\n...\n```\n\nTo parse YAML front matter, we use [gray-matter](https://www.npmjs.com/package/gray-matter) package.\n\n```shell\n$ npm install --save gray-matter\n```\n\nAs the `*.md` files are placed inside the `posts` directory, we resolve the path using `path.resolve(\"posts\")`. We read the file names synchronously with `fs.readdirSync()`.\n\nThe file name without the trailing `.md` string is the slug. We read the file content by `fs.readFileSync()` and parse the content with the `matter` function. We use the `matter(content).data` object to get the returned values. These properties are stored in the `posts` array. Each post object contains slug, content in markdown, metadata, and other properties.\n\nBefore returning the `posts` array, we call the `Array.prototype.sort()` method to sort the data based on the `date` metadata.\n\nThe last line implements pagination based on the `page` and `limit` parameters.\n\n```js\n// libs/posts.js\n\nimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nexport function getPosts({ page, limit }) {\n  page = page ?? 1;\n  limit = limit ?? 10;\n\n  // Read the markdown files (`posts/*.md`) \n  const dirPath = path.resolve(\"posts\");\n  const fileNames = fs.readdirSync(dirPath);\n\n  // Prepare posts containing slug, content, and metadata\n  let posts = fileNames.map((fileName) =\u003e {\n    const slug = fileName.replace(/\\.md$/i, \"\");\n    const filePath = path.join(dirPath, fileName);\n    const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n    const matterObject = matter(content);\n    return {\n      slug,\n      ...matterObject.data,\n    };\n  });\n\n  // Sort posts based on `date`\n  posts\n    .sort(({ date: a }, { date: b }) =\u003e {\n      if (a \u003e b) return 1;\n      else if (a \u003c b) return -1;\n      else return 0;\n    })\n    .reverse();\n\n  // Pagination\n  return posts.slice((page - 1) * limit, page * limit);\n}\n```\n\n## Start Dev Server\n\nRun the `next dev -p 3000` command to start the development server. It is assigned to the NPM's `dev` script in `package.json` file.\n\n```shell\n$ npm run dev\n```\n\nNavigate to `localhost:3000/posts` in your favorite browser.\n\n## Apply Styles\n\nAdd the following CSS rules to the `styles/global.css` file:\n\n```css\n/* styles/globals.css */\n\n:root {\n  --muted-color: gray;\n  --hover-color: #f7f7f7;\n}\n\n.posts {\n  margin: 2rem auto;\n  max-width: 1024px;\n  border: 1px solid var(--muted-color);\n}\n\n.card {\n  padding: 1rem 2rem;\n  cursor: pointer;\n}\n\n.card:hover {\n  background-color: var(--hover-color);\n}\n\n.card .desc {\n  margin-top: 0;\n}\n\n.card .meta {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n```\n\nThe class names are added to the `Posts` component's children in `pages/posts.js` using the `className` attribute. The following output will be displayed on your browser.\n\n![Posts list](../public/post/20220524/posts-list.png)\n\n## Add Blog Page\n\nCreate the `pages/posts/[slug].js` file. The `Post` component receives two parameters: `slug` and `post`. They are populated by the `getStaticProps()` method. When a URL like `localhost:3000/posts/\u003cslug\u003e` is opened in a browser, the value of `\u003cslug\u003e` part of the URL will be accessible in `getStaticProps()` using `props.params.slug` variable.\n\n```js\n// pages/posts/[slug].js\n\nimport { getPost, getPostsSlugs } from \"../../libs/posts\";\n\nexport async function getStaticPaths() {\n  const paths = getPostsSlugs();\n  return {\n    paths,\n    fallback: false,\n  };\n}\n\nexport async function getStaticProps({ params }) {\n  const slug = params.slug;\n  const post = await getPost(slug);\n  return {\n    props: {\n      slug,\n      post,\n    },\n  };\n}\n\nexport default function Post({ slug, post }) {\n  return (\n    \u003cdiv className=\"post\"\u003e\n      \u003ch1\u003e{post.title}\u003c/h1\u003e\n      \u003cp className=\"desc\"\u003e{post.description}\u003c/p\u003e\n      \u003cdiv className=\"meta\"\u003e\n        \u003cspan\u003e{`By ${post.author}`}\u003c/span\u003e\n        \u003cspan\u003e{post.date}\u003c/span\u003e\n      \u003c/div\u003e\n      \u003cdiv className=\"content\"\u003e{post.contentMarkdown}\u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\nDefine `getPost()` and `getPostsSlugs()` methods in `libs/posts.js`. In `getPosts()`, `slug` is valid through the passed parameter. We use it to open the markdown file with the same base name, parse its content, and return it along with `slug` and other metadata.\n\nHere, `getPostsSlugs()` is responsible for providing all the available slugs. They are used in Next.js to build the static website's internal links. We iterate over all the file names, extract, and return the slugs.\n\n```js\nimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nexport function getPosts({ page, limit }) { ... }\n\nexport async function getPost(slug) {\n  const dirPath = path.resolve(\"posts\");\n  const filePath = path.join(dirPath, `${slug}.md`);\n  const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n  const matterObject = matter(content);\n  return {\n    slug,\n    contentMarkdown: matterObject.content,\n    ...matterObject.data,\n  };\n}\n\nexport function getPostsSlugs() {\n  const dirPath = path.resolve(\"posts\");\n  const fileNames = fs.readdirSync(dirPath);\n  return fileNames.map((fileName) =\u003e {\n    const slug = fileName.replace(/\\.md/, \"\");\n    return {\n      params: {\n        slug,\n      },\n    };\n  });\n}\n```\n\n## View Blog Post\n\nTo check if the functions are working properly, navigate to the `localhost:3000/posts/\u003cslug\u003e` link in which `\u003cslug\u003e` is the base name of a markdown file. For example, if your file is located in `posts/how-to-create-a-nextjs-app.md`, open the `localhost:3000/posts/how-to-create-a-nextjs-app` URL.\n\nIn files' path, `posts` refers to a local directory; however, in URLs, `posts` refers to the directory located in `pages/posts`.\n\n![Raw blog post](../public/post/20220524/post-raw.png)\n\nNow apply some styles by modifying `styles/global.css` and adding the following classes.\n\n```css\n.post {\n  width: 1024px;\n  margin: 0 auto;\n}\n\n.desc {\n  margin-top: 0;\n}\n\n.meta {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\n.content {\n    margin: 2rem 0;\n}\n```\n\nIf your dev server is running, you will see the changes instantaneously.\n\n![Styled blog post](../public/post/20220524/post-styled.png)\n\n## Render Markdown\n\nAs you can see, the markdown content is displayed as plain text. We need some tools to convert it to a proper HTML format. Install the following packages in your project:\n\n```shell\n$ npm install --save react-markdown remark-math rehype-katex react-syntax-highlighter\n```\n\nCreate a `Markdown` component in the `components/markdown.js` file. This component is a wrapper for [`ReactMarkdown`](https://www.npmjs.com/package/react-markdown) component, which is responsible for converting markdown to HTML.\n\nTo support rendering mathematic formulas on the website, we use the [remark-math](https://www.npmjs.com/package/remark-math) and [rehype-katex](https://www.npmjs.com/package/rehype-katex) packages. \n\n`ReactMarkdown` has a `components` attribute. You can pass a function to access HTML tags and add features. To highlight the code, first, we access the `\u003ccode\u003e` tag inside the `components()` function. We filter the ones with the `language-*` class, for example, `language-js`. Then, we wrap it with the `SyntaxHighlighter` component, passing Prism style, setting the language, enabling line numbers, passing the children, etc. However, when there is no match in the `language-*` CSS class search, we return a plain `\u003ccode\u003e` tag accordingly. \n\n```js\n// components/markdown.js\n\nimport ReactMarkdown from \"react-markdown\";\n\n// Math support\nimport remarkMath from \"remark-math\";\nimport rehypeKatex from \"rehype-katex\";\nimport \"katex/dist/katex.min.css\";\n\n// Syntax highlighting support\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { prism as LightStyle } from \"react-syntax-highlighter/dist/cjs/styles/prism\";\n\nfunction components() {\n  return {\n    code({ node, inline, className, children, ...props }) {\n      const match = /language-(\\w+)/.exec(className || \"\");\n      return !inline \u0026\u0026 match ? (\n        // Highlighted code\n        \u003c\u003e\n          \u003cSyntaxHighlighter\n            style={LightStyle}\n            language={match[1]}\n            PreTag=\"div\"\n            // eslint-disable-next-line react/no-children-prop\n            children={String(children).replace(/\\n$/, \"\")}\n            showLineNumbers={true}\n            customStyle={{\n              backgroundColor: \"rgba(245, 245, 245, 1)\",\n              opacity: \"1\",\n            }}\n            codeTagProps={{\n              style: {\n                backgroundColor: \"transparent\",\n              },\n            }}\n            {...props}\n          /\u003e\n        \u003c/\u003e\n      ) : (\n        // Plain code\n        \u003ccode {...props}\u003e\n          {children}\n        \u003c/code\u003e\n      );\n    },\n  };\n}\n\n// Wrapper for ReactMarkdown\nexport default function Markdown({ children }) {\n  return (\n    \u003cReactMarkdown\n      remarkPlugins={[remarkMath]}\n      rehypePlugins={[rehypeKatex]}\n      components={components()}\n    \u003e\n      {children}\n    \u003c/ReactMarkdown\u003e\n  );\n}\n```\n\nNow use `Markdown` by updating the `Post` component in `pages/posts/[slug].js`. Pass `post.contentMarkdown` to the `Markdown` component as a child.\n\n```js\nexport default function Post({ slug, post }) {\n  return (\n    \u003cdiv className=\"post\"\u003e\n      \u003ch1\u003e{post.title}\u003c/h1\u003e\n      \u003cp className=\"desc\"\u003e{post.description}\u003c/p\u003e\n      \u003cdiv className=\"meta\"\u003e\n        \u003cspan\u003e{`By ${post.author}`}\u003c/span\u003e\n        \u003cspan\u003e{post.date}\u003c/span\u003e\n      \u003c/div\u003e\n      \u003carticle className=\"content\"\u003e\n        \u003cMarkdown\u003e{post.contentMarkdown}\u003c/Markdown\u003e\n      \u003c/article\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\nHere is an example:\n\n![Code and Math in Markdown](../public/post/20220524/code-math-in-markdown.png)\n\n## Create ToC Widget\n\nIn this step, we want to create an auto-generated table of contents based on the headings available in the markdown file of the article. The following packages are required:\n\n```shell\n$ npm install --save remark remark-html jsdom\n```\n\nModify the `libs/posts.js` file by adding the `getHeadingAnchors()` function to it. In `getPost()` method, we use `remark()` to parse the markdown content to HTML. Then, we pass it to the `getHeadingAnchors()` function, which is responsible for finding all the `\u003ch1\u003e`, `\u003ch2\u003e`, and `\u003ch3\u003e` tags, creating an ID based on the text content of the tag, and return the heading's type (`heading`), title (`title`), and prepared ID (`anchorId`). Finally, `getPost()` returns the heading anchors along with other properties.\n\n\n```js\nimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport * as matter from \"gray-matter\";\n\nimport { remark } from \"remark\";\nimport remarkHtml from \"remark-html\";\nimport jsdom from \"jsdom\";\n\nexport function getPosts({ page, limit }) { ... }\n\nexport async function getPost(slug) {\n  const dirPath = path.resolve(\"posts\");\n  const filePath = path.join(dirPath, `${slug}.md`);\n  const content = fs.readFileSync(filePath, { encoding: \"utf-8\" });\n  const matterObject = matter(content);\n\n  // Get heading anchors\n  const processedContent = await remark()\n    .use(remarkHtml)\n    .process(matterObject.content);\n  const contentHtml = processedContent.toString();\n  const { headingAnchors, contentHtmlWithAnchors } =\n    getHeadingAnchors(contentHtml);\n\n  return {\n    slug,\n    headingAnchors, // return the anchors\n    contentMarkdown: matterObject.content,\n    ...matterObject.data,\n  };\n}\n\n// Find and return anchors based on headings\nfunction getHeadingAnchors(str) {\n  const headingAnchors = [];\n  const dom = new jsdom.JSDOM(`\u003cdiv id=\"headinganchors\"\u003e${str}\u003c/div\u003e`);\n  dom.window.document.querySelectorAll(\"h1, h2, h3\").forEach((hx) =\u003e {\n    const id = hx.textContent.toLowerCase().replace(/\\s+|[^a-z0-9]/g, \"_\");\n    const anchor = dom.window.document.createElement(\"a\");\n    anchor.id = id;\n    hx.insertBefore(anchor, null);\n\n    headingAnchors.push({\n      heading: hx.nodeName.toLowerCase(),\n      title: hx.textContent,\n      anchorId: id,\n    });\n  });\n  const contentHtmlWithAnchors =\n    dom.window.document.getElementById(\"headinganchors\").innerHTML;\n  return {\n    headingAnchors,\n    contentHtmlWithAnchors,\n  };\n}\n```\n\nFor example, applying `getHeadingAnchors()` on the following markdown content:\n\n```markdown\n# Heading 1\n\n## Heading 2\n```\n\nwill result in:\n\n```js\n[\n   {\n     heading: \"h1\",\n     title: \"Heading 1\",\n     anchorId: \"heading-1\"\n   },\n   {\n     heading: \"h2\",\n     title: \"Heading 2\",\n     anchorId: \"heading-2\"\n   },\n]\n```\n\nNow, on the output HTML content, we need to add anchors before headings so that when we click on a link in the table of content, the browser will jump to the respective anchor in the article.\n\nTo do so, update the `components` function in `components/markdown.js` to add anchors before headings:\n\n```js\nfunction components() {\n  const hx = (children) =\u003e {\n    const id = children\n      .join(\"\")\n      .toLowerCase()\n      .replace(/\\s+|[^a-z0-9]/gi, \"_\");\n    return (\n      \u003c\u003e\n        \u003ca id={id} className=\"heading-anchor\"\u003e\u003c/a\u003e\n        \u003ch3\u003e{children}\u003c/h3\u003e\n      \u003c/\u003e\n    );\n  };\n  return {\n    code({ node, inline, className, children, ...props }) {\n      ...\n    },\n    h1({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n    h2({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n    h3({ node, inline, className, children, ...props }) {\n      return hx(children);\n    },\n  };\n}\n```\n\nIf you inspect the output in your browser, you should see `\u003ca\u003e` tags with `id` and class set to `heading-anchors` before headings.\n\n![Anchor Before Heading](../public/post/20220524/anchor-before-heading.png)\n\nModify `pages/posts/[slug].js` to add a sidebar to the blog page. The sidebar and content are the children of the wrapper `\u003cdiv\u003e`.\n\n```js\n// pages/posts/[slug].js\n\nexport default function Post({ slug, post }) {\n  return (\n    \u003cdiv className=\"post\"\u003e\n      \u003ch1\u003e{post.title}\u003c/h1\u003e\n      \u003cp className=\"desc\"\u003e{post.description}\u003c/p\u003e\n      \u003cdiv className=\"meta\"\u003e\n        \u003cspan\u003e{`By ${post.author}`}\u003c/span\u003e\n        \u003cspan\u003e{post.date}\u003c/span\u003e\n      \u003c/div\u003e\n      \u003cdiv className=\"wrapper\"\u003e\n        \u003caside className=\"sidebar\"\u003e\n          \u003cdiv className=\"toc\"\u003e\n            \u003ch1\u003eTable of Contents\u003c/h1\u003e\n            {post.headingAnchors.length \u003e 0 \u0026\u0026 (\n              \u003cul\u003e\n                {post.headingAnchors.map((anchor) =\u003e {\n                  return (\n                    \u003cli\n                      id={`toc-${anchor.anchorId}`}\n                      key={anchor.anchorId}\n                      className={`ml${anchor.heading[1]} toc-anchor`}\n                    \u003e\n                      \u003ca href={`#${anchor.anchorId}`}\u003e{anchor.title}\u003c/a\u003e\n                    \u003c/li\u003e\n                  );\n                })}\n              \u003c/ul\u003e\n            )}\n          \u003c/div\u003e\n        \u003c/aside\u003e\n        \u003carticle className=\"content\"\u003e\n          \u003cMarkdown\u003e{post.contentMarkdown}\u003c/Markdown\u003e\n        \u003c/article\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\nWe apply some styles to align the sidebar to the right and make it sticky when we scroll down the page. If the window's width is less than 1024px, the sidebar will be placed on top of the article. However, for windows width bigger than 1024px, the sidebar will be on the right side of the page, sticking to the top while scrolling.\n\n```css\n/* styles/global.css */\n\n.ml1 {\n  margin-left: 1rem;\n}\n\n.ml2 {\n  margin-left: 2rem;\n}\n\n.ml3 {\n  margin-left: 3rem;\n}\n\n.post {\n  width: 1024px;\n  margin: 0 auto;\n}\n\n.post .desc {\n  margin-top: 0;\n}\n\n.post .meta {\n  display: flex;\n  flex-direction: row;\n  color: var(--muted-color);\n  margin-top: 0;\n}\n\n.post .wrapper {\n  display: flex;\n  flex-direction: column;\n}\n\n.post .content {\n  margin: 2rem 0;\n}\n\n.post .sidebar {\n  display: flex;\n  flex-direction: column;\n  margin-left: var(--margin);\n}\n\n.post .toc ul {\n  padding: 0;\n}\n\n.post .toc li {\n  list-style-type: none;\n  font-weight: normal;\n}\n\n.post .toc li.active {\n  font-weight: 800 !important;\n}\n\n@media (min-width: 1024px) {\n  .post .wrapper {\n    flex-direction: row-reverse;\n  }\n\n  .post .sidebar {\n    align-self: flex-start;\n    width: 300px;\n    position: -webkit-sticky;\n    position: sticky;\n    top: 1rem;\n  }\n\n  .post .content {\n    width: calc(100% - var(--margin) - 300px);\n  }\n}\n```\n\n## Active ToC Items\n\nTo make the items in the table of contents re-act and become emphasized during the scroll event, first, we have to capture the `scroll` event. To achieve this effect, we create a state named `scrollTop` with `useState()` and set its initial value to `0`. Then we capture its changes using the `useEffect(() =\u003e {}, [scrollTop])` hook inside the `Post` component.\n\nTo capture the `scroll` event, we call `addEventListener` on the `window` object. Don't forget to call `removeEventListener` when `useEffect()` is finished.\n\nWe call `updateTocAnchors()` on each scroll update. This method searches for the heading anchors visible on the browser's window and highlights the corresponding item on the table of contents widget based on the heading anchor ID.\n\n```js\n// pages/posts/[slug].js\n\nimport { getPost, getPostsSlugs } from \"../../libs/posts\";\nimport Markdown from \"../../components/markdown\";\n\nimport { useState, useEffect } from \"react\"; // React hooks\n\nexport async function getStaticPaths() { ... }\n\nexport async function getStaticProps({ params }) { ... }\n\nexport default function Post({ slug, post }) {\n  const [scrollTop, setScrollTop] = useState(0);\n\n  useEffect(() =\u003e {\n    const updateTocAnchors = (e) =\u003e {\n      const headingAnchors = e.target.documentElement.querySelectorAll(\n        \".post .article .heading-anchor\"\n      );\n      if (headingAnchors.length === 0) return;\n      const activeHeadingAnchors = Array.from(headingAnchors).filter(\n        (anchor) =\u003e {\n          const rect = anchor.getBoundingClientRect();\n          return (\n            rect.top \u003e= 0 \u0026\u0026\n            rect.left \u003e= 0 \u0026\u0026\n            rect.bottom \u003c= e.target.documentElement.clientHeight \u0026\u0026\n            rect.right \u003c= e.target.documentElement.clientWidth\n          );\n        }\n      );\n      if (activeHeadingAnchors.length === 0) return;\n      // Deactive all ToC anchors\n      const tocAnchors = e.target.documentElement.querySelectorAll(\n        \".post .sidebar .toc .toc-anchor\"\n      );\n      if (tocAnchors.length === 0) return;\n      Array.from(tocAnchors).forEach((anchor) =\u003e {\n        anchor.classList.remove(\"active\");\n      });\n      // Active current ToC anchor\n      const tocAnchorId = `toc-${activeHeadingAnchors[0].id}`;\n      const activeTocAnchor = e.target.documentElement.querySelector(\n        `#${tocAnchorId}`\n      );\n      if (!activeTocAnchor) return;\n      activeTocAnchor.classList.add(\"active\");\n    };\n\n    // Capturing the `scroll` event\n    const onScroll = (e) =\u003e {\n      const currScrollTop = e.target.documentElement.scrollTop;\n      setScrollTop((prevScrollTop, props) =\u003e {\n        updateTocAnchors(e);\n        if (Math.abs(prevScrollTop - currScrollTop) \u003e 200) {\n          return currScrollTop;\n        }\n      });\n    };\n    window.addEventListener(\"scroll\", onScroll);\n    return () =\u003e window.removeEventListener(\"scroll\", onScroll);\n  }, [scrollTop]);\n\n  return ( ... );\n}\n```\n\nAfter combining all the codes and logic, the results will be as follows:\n\n![Article with ToC](../public/post/20220524/article-with-toc.png)\n\n## Conclusion\n\nWe are done! We have created an auto-generated table of contents, which can highlight its items based on the current scrolling position.\n\nYou can find the source code on the [nextjs-markdown-blog-with-toc](https://github.com/mirbostani/nextjs-markdown-blog-with-toc) repository.","readTime":22,"category":"Web Development","title":"Create a Table of Contents for a Next.js Markdown Blog","description":"Build an auto-generated table of contents, which can highlight its items based on the current scrolling position","date":"2022-05-24","author":"mirbostani","cover":"","tags":"nextjs,reactjs"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"create-a-table-of-contents-for-a-nextjs-markdown-blog"},"buildId":"4WMylZox7I6zFz0827QJi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>