<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="My name is Morteza Mirbostani, and I&#x27;m a machine learning researcher and software developer from Iran. On this website, I write about my personal projects, experience, and interests in different areas of computer science."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@mirbostani"/><meta name="twitter:creator" content="@mirbostani"/><meta property="og:url" content="https://mirbostani.com/deploy-static-nextjs-websites-on-github-pages"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2021-09-16T00:00:00.000Z"/><meta property="article:author" content="https://mirbostani.com/about"/><meta property="article:tag" content="Web Development"/><meta property="article:tag" content="nextjs"/><meta property="article:tag" content="github"/><meta property="og:title" content="Deploy static Next.js websites on GitHub Pages"/><meta property="og:description" content="Use Next.js to develop and export a static HTML version of a website to be hosted on GitHub Pages."/><meta property="og:image" content="https://mirbostani.com/og-image.png"/><meta property="og:image:alt" content="Morteza Mirbostani Profile Photo"/><meta property="og:image:width" content="460"/><meta property="og:image:height" content="460"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Morteza Mirbostani"/><link rel="canonical" href="https://mirbostani.com/deploy-static-nextjs-websites-on-github-pages"/><title>Deploy static Next.js websites on GitHub Pages | Morteza Mirbostani</title><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="26"/><link rel="preload" href="/_next/static/css/9d343433ac0fd5236eef.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9d343433ac0fd5236eef.css" data-n-g=""/><link rel="preload" href="/_next/static/css/bb62b9ce96788fd16517.css" as="style"/><link rel="stylesheet" href="/_next/static/css/bb62b9ce96788fd16517.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-af28476a2e7790fd48db.js" defer=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" defer=""></script><script src="/_next/static/chunks/main-40f76118f06e75475bd6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0f6b92f7d2080561a4bc.js" defer=""></script><script src="/_next/static/chunks/60273576-78f35edd84fd9e52d9f5.js" defer=""></script><script src="/_next/static/chunks/303-b31bf6ceabc81509f694.js" defer=""></script><script src="/_next/static/chunks/522-16d7858a9106ffbe20b2.js" defer=""></script><script src="/_next/static/chunks/554-e9cc26cc0ed1952a0276.js" defer=""></script><script src="/_next/static/chunks/16-ed1c284d447118b65452.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-4792735b8e87bad264e1.js" defer=""></script><script src="/_next/static/1gQcol4QzniBAuPu1VIUB/_buildManifest.js" defer=""></script><script src="/_next/static/1gQcol4QzniBAuPu1VIUB/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col h-screen  sk-post sk-layout"><div class="flex flex-col flex-grow dark:bg-gray-700 dark:text-white"><div class="h-20"><div class="headroom-wrapper"><div style="position:relative;top:0;left:0;right:0;z-index:1;-webkit-transform:translate3D(0, 0, 0);-ms-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)" class="headroom headroom--unfixed"><header class="sk-header bg-gray-100 dark:bg-gray-800 sticky top-0 z-50"><div class="max-w-5xl container mx-auto px-4 lg:px-16 xl:px-24 py-5 space-y-4 lg:space-y-0 lg:flex lg:items-center lg:justify-between lg:space-x-10"><div class="flex justify-between"><div class="flex flex-row"><a class="flex flex-row items-center space-x-3" href="/"><div class="flex rounded-md overflow-hidden border border-gray-100 dark:border-gray-800"><img src="/mirbostani/thumb.png" alt="Morteza Mirbostani" width="38" height="38"/></div><h1 class="text-2xl font-extrabold dark:text-white">Morteza Mirbostani</h1></a></div><div class="flex items-center space-x-2 lg:hidden"><button class="p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 focus:bg-gray-100 dark:focus:bg-gray-800 focus:outline-none"><svg viewBox="0 0 20 20" fill="currentColor" class="w-6 h-6 text-gray-700 dark:text-gray-300"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button></div></div><div class="flex flex-col space-y-4 lg:hidden" style="display:none"><div class="flex flex-col space-y-3 lg:space-y-0 lg:flex-row lg:space-x-6 xl:space-x-8 lg:items-center mx-4"><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/">Home</a><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/about">About</a></div><div class="flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:space-x-4"><button type="button" aria-label="Color Mode" class="flex justify-center p-2 text-gray-500 transition duration-150 ease-in-out bg-gray-100 border border-transparent rounded-md lg:bg-white lg:dark:bg-gray-900 dark:text-gray-200 dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 active:bg-gray-50"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 transform -rotate-90"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div></div><div class="hidden lg:flex lg:flex-row lg:items-center lg:justify-end lg:flex-1 lg:space-x-2"><div class="flex flex-col space-y-3 lg:space-y-0 lg:flex-row lg:space-x-6 xl:space-x-8 lg:items-center mx-4"><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/">Home</a><a class="text-gray-500 dark:text-gray-200 hover:text-gray-800" href="/about">About</a></div><div class="flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:space-x-4"><button type="button" aria-label="Color Mode" class="flex justify-center p-2 text-gray-500 transition duration-150 ease-in-out bg-gray-100 border border-transparent rounded-md lg:bg-white lg:dark:bg-gray-900 dark:text-gray-200 dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 active:bg-gray-50"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 transform -rotate-90"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div></div></div></header></div></div></div><main class="sk-main max-w-5xl container mx-auto flex flex-col lg:flex-row lg:space-x-8 flex-grow px-4 lg:px-16 xl:px-24 py-10"><section class="sk-section flex flex-col flex-grow"><h1 class="mb-4">Deploy static Next.js websites on GitHub Pages</h1><p class="mb-2">Use Next.js to develop and export a static HTML version of a website to be hosted on GitHub Pages.</p><div class="flex flex-row items-center"><div class=""><div class="flex flex-row items-center text-sm text-gray-500 dark:text-gray-400"><time dateTime="2021-09-16">Sep 16, 2021</time><span class="mx-2 text-gray-400">·</span><div class="flex flex-row space-x-1"><span class="">by</span><a href="/about">Morteza Mirbostani</a></div><div class="flex items-center"><span class="mx-2 text-gray-400">·</span><p class="text-sm text-gray-500 dark:text-gray-400">3<!-- --> min read</p></div></div></div><span class="mx-2 text-gray-400">·</span><span class="text-sm"><span class="flex flex-row space-x-2"><a class="inline-block text-gray-500 dark:text-gray-400" href="/categories/Web%20Development">Web Development</a><a class="inline-block text-gray-500 dark:text-gray-400" href="/tags/nextjs">#nextjs</a><a class="inline-block text-gray-500 dark:text-gray-400" href="/tags/github">#github</a></span></span></div><article class="sk-post-content mt-4"><h2>Create a Next.js Application</h2>
<p>Next.js is a modern JavaScript framework that offers server-side rendering (SSR) and static site generation (SSG) features. Using SSG with Next.js enables you to build a static HTML version of your website at the build time. Then, you can deploy it on any webserver (i.e., GitHub Pages and Actions) you like. It makes the page loading process extremely fast for the users. For more information regarding the best practice for creating a static website with Next.js, please consult its <a href="https://nextjs.org/docs/advanced-features/static-html-export">documentation</a>.</p>
<p>Create a Next.js application based on the blog-starter kit that is provided <a href="https://github.com/vercel/next.js/tree/canary/examples">here</a>. Then, navigate to the project directory and start the development server.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ npx create-next-app mywebsite --use-npm --example </span><span class="token" style="color:#690">&quot;https://github.com/vercel/next-learn-starter/tree/master/learn-starter&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> mywebsite
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ npx next dev --port </span><span class="token" style="color:#905">3333</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ npx create-next-app mywebsite --use-npm --example </span><span class="token" style="color:#690">&quot;https://github.com/vercel/next-learn-starter/tree/master/learn-starter&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> mywebsite
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ npx next dev --port </span><span class="token" style="color:#905">3333</span></code></div></pre>
<p><img src="/post/deploy-static-nextjs-websites-on-github-pages/nextjs-blog-starter.png" alt="nextjs-starter"/></p>
<h2>Generate a Static Site</h2>
<p>You can modify the application as you like. However, remember that the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">export</code> command, used for generating static pages, does not support the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">next/image</code> component, as this component relies on Image Optimization API. Possible ways to fix this issue are addressed <a href="https://nextjs.org/docs/messages/export-image-api">here</a>; however, you can use the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;img&gt;</code> HTML tag or the <a href="https://github.com/cyrilwanner/next-optimized-images">next-optimized-images</a> package instead of <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">next/image</code>. Besides, <a href="https://nextjs.org/docs/advanced-features/i18n-routing">internationalized (i18n) routing</a> is not compatible with exported pages either because it uses dynamic routing internally for implementation. The <a href="https://github.com/martinkr/next-export-i18n">next-export-i18n</a> package is a suitable alternative.</p>
<p>To build and export your application to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">./dist</code> directory, use the following commands:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ npx next build
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ npx next </span><span class="token" style="color:#DD4A68">export</span><span> -o dist/</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ npx next build
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ npx next </span><span class="token" style="color:#DD4A68">export</span><span> -o dist/</span></code></div></pre>
<h2>Test on Nginx</h2>
<p>After exporting a static HTML version of your application, you can test it locally using the Nginx webserver. First, you need to update the package list and install Nginx with these commands:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">apt</span><span> update
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">apt</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> nginx</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">apt</span><span> update
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">apt</span><span> </span><span class="token" style="color:#DD4A68">install</span><span> nginx</span></code></div></pre>
<p>The Nginx service will start automatically after a successful installation. Check if the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">nginx.service</code> is active and running:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> systemctl status nginx</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> systemctl status nginx</span></code></div></pre>
<p>You can point your browser to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost</code> address. The following page should appear in your browser.</p>
<p><img src="/post/deploy-static-nextjs-websites-on-github-pages/nginx-active-and-running.png" alt="nginx-active-and-running"/></p>
<p>For testing purposes, you can now deploy your static website locally using the Nginx webserver. Just copy the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">dist</code> directory, which contains your generated static website, to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">/var/www</code> path.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /path/to/project
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">cp</span><span> dist/ /var/www
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">ls</span><span> /var/www
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>dist  html
</code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /path/to/project
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">cp</span><span> dist/ /var/www
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">ls</span><span> /var/www
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>dist  html
</code></div></pre>
<p>In order to make your website accessible through <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000</code>, you need to set up a virtual host inside the Nginx webserver.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /etc/nginx/sites-available
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">touch</span><span> dist
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">vim</span><span> dist</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /etc/nginx/sites-available
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">touch</span><span> dist
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">vim</span><span> dist</span></code></div></pre>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token directive" style="color:#07a">server</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token directive" style="color:#07a">listen</span><span class="token directive"> </span><span class="token directive" style="color:#905">3000</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>  </span><span class="token directive" style="color:#07a">listen</span><span class="token directive"> [::]:3000</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token directive" style="color:#07a">server_name</span><span class="token directive"> dist.example.com</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>  </span><span class="token directive" style="color:#07a">root</span><span class="token directive"> /var/www/dist</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>  </span><span class="token directive" style="color:#07a">index</span><span class="token directive"> index.html</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token directive" style="color:#07a">location</span><span class="token directive"> /</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>    </span><span class="token directive" style="color:#07a">try_files</span><span class="token directive"> </span><span class="token directive" style="color:#e90">$uri</span><span class="token directive"> </span><span class="token directive" style="color:#e90">$uri</span><span class="token directive">/ =404</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token directive" style="color:#07a">server</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>  </span><span class="token directive" style="color:#07a">listen</span><span class="token directive"> </span><span class="token directive" style="color:#905">3000</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>  </span><span class="token directive" style="color:#07a">listen</span><span class="token directive"> [::]:3000</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  </span><span class="token directive" style="color:#07a">server_name</span><span class="token directive"> dist.example.com</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>  </span><span class="token directive" style="color:#07a">root</span><span class="token directive"> /var/www/dist</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>  </span><span class="token directive" style="color:#07a">index</span><span class="token directive"> index.html</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>  </span><span class="token directive" style="color:#07a">location</span><span class="token directive"> /</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>    </span><span class="token directive" style="color:#07a">try_files</span><span class="token directive"> </span><span class="token directive" style="color:#e90">$uri</span><span class="token directive"> </span><span class="token directive" style="color:#e90">$uri</span><span class="token directive">/ =404</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>  </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>Enable the virtual host that you&#x27;ve just created by creating a symbolic link inside the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">sites-enabled</code> directory.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /etc/nginx/sites-enabled
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">ln</span><span> -s /etc/nginx/sites-available/dist dist</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /etc/nginx/sites-enabled
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> </span><span class="token" style="color:#DD4A68">ln</span><span> -s /etc/nginx/sites-available/dist dist</span></code></div></pre>
<p>Restart Nginx to make the changes take effect.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> systemctl restart nginx</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">sudo</span><span> systemctl restart nginx</span></code></div></pre>
<p>You can access the website by pointing your browser to the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">localhost:3000</code> address.</p>
<h2>Push to GitHub</h2>
<p>Create a repository with <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">&lt;yourusername.github.io&gt;</code> structure. You should substitute <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">yourusername</code> with your GitHub username.</p>
<p><img src="/post/deploy-static-nextjs-websites-on-github-pages/create-github-repository.png" alt="create-github-repository"/></p>
<p>Create a local repository and merge it with your remote one:</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">mkdir</span><span> mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> init
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> branch -M main
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> remote </span><span class="token" style="color:#DD4A68">add</span><span> origin https://github.com/mirbostani/mirbostani.github.io.git</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">mkdir</span><span> mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> init
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> branch -M main
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> remote </span><span class="token" style="color:#DD4A68">add</span><span> origin https://github.com/mirbostani/mirbostani.github.io.git</span></code></div></pre>
<p>Now, move the content of the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">dist</code> directory to your local repository. If you want to host your website on GitHub Pages, you should create an empty file called <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">.nojekyll</code> to prevent GitHub Pages to use Jekyll by default.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cp</span><span> -r /path/to/mywebsite/dist /path/to/mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /path/to/mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">touch</span><span> .nojekyll
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> </span><span class="token" style="color:#DD4A68">add</span><span> </span><span class="token" style="color:#DD4A68">.</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> commit -m </span><span class="token" style="color:#690">&quot;Initial commit&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> push</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>$ </span><span class="token" style="color:#DD4A68">cp</span><span> -r /path/to/mywebsite/dist /path/to/mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>$ </span><span class="token" style="color:#DD4A68">cd</span><span> /path/to/mirbostani.github.io
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>$ </span><span class="token" style="color:#DD4A68">touch</span><span> .nojekyll
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> </span><span class="token" style="color:#DD4A68">add</span><span> </span><span class="token" style="color:#DD4A68">.</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> commit -m </span><span class="token" style="color:#690">&quot;Initial commit&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>$ </span><span class="token" style="color:#DD4A68">git</span><span> push</span></code></div></pre>
<p>If you don&#x27;t have a custom domain and want to use your GitHub repository name, you should prefix the asset links by modifying the <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">next.config.js</code> file. Then, redo the exporting and pushing process.</p>
<pre><div class="sk-syntax-light rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(245, 245, 245, 1);opacity:1"><code style="background-color:transparent;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#07a">const</span><span> isProd </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> process</span><span class="token" style="color:#999">.</span><span class="token property-access">env</span><span class="token" style="color:#999">.</span><span class="token" style="color:#905">NODE_ENV</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#690">&quot;production&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>module</span><span class="token" style="color:#999">.</span><span class="token property-access">exports</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  assetPrefix</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> isProd </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#690">&quot;/&lt;your-repo-name&gt;/&quot;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:#999">}</span></code></div><div class="sk-syntax-dark rounded-lg overflow-hidden" style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background-color:rgba(52, 52, 52, 1);opacity:1"><code style="color:rgba(255, 255, 255, 0.8);background-color:transparent;text-shadow:none;white-space:pre"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#07a">const</span><span> isProd </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> process</span><span class="token" style="color:#999">.</span><span class="token property-access">env</span><span class="token" style="color:#999">.</span><span class="token" style="color:#905">NODE_ENV</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">===</span><span> </span><span class="token" style="color:#690">&quot;production&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>module</span><span class="token" style="color:#999">.</span><span class="token property-access">exports</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>  assetPrefix</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> isProd </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#690">&quot;/&lt;your-repo-name&gt;/&quot;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;&quot;</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:#999">}</span></code></div></pre>
<p>Finally, you can visit your website on <code class="bg-gray-200 dark:bg-gray-800 px-1 font-mono text-sm" style="border-radius:4px">yourusername.github.io</code>. It should be up and running.</p></article></section></main><footer class="sk-footer bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 mt-10"><div class="max-w-5xl container mx-auto flex flex-col items-center px-4 lg:px-16 xl:px-24 py-6 space-y-6 lg:space-y-0 lg:flex-row lg:justify-between"><div class="flex items-center text-sm space-x-1"><span class="-mb-1">©</span><span>2021</span><a href="/">Morteza Mirbostani</a></div><div class="flex items-center text-sm space-x-4"><a href="/about">About</a><a href="/disclaimer">Disclaimer</a><a class="text-gray-500" target="_blank" href="https://twitter.com/mirbostani"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 fill-current"><path d="M19.995 6.68799C20.8914 6.15208 21.5622 5.30823 21.882 4.31399C21.0397 4.81379 20.118 5.16587 19.157 5.35499C17.8246 3.94552 15.7135 3.60251 14.0034 4.51764C12.2933 5.43277 11.4075 7.37948 11.841 9.26999C8.39062 9.09676 5.17598 7.4669 2.99702 4.78599C1.85986 6.74741 2.44097 9.25477 4.32502 10.516C3.64373 10.4941 2.97754 10.3096 2.38202 9.97799C2.38202 9.99599 2.38202 10.014 2.38202 10.032C2.38241 12.0751 3.82239 13.8351 5.82502 14.24C5.19308 14.4119 4.53022 14.4372 3.88702 14.314C4.45022 16.0613 6.06057 17.2583 7.89602 17.294C6.37585 18.4871 4.49849 19.1342 2.56602 19.131C2.22349 19.1315 1.88123 19.1118 1.54102 19.072C3.50341 20.333 5.78739 21.0023 8.12002 21C11.3653 21.0223 14.484 19.7429 16.7787 17.448C19.0734 15.1531 20.3526 12.0342 20.33 8.78899C20.33 8.60299 20.3257 8.41799 20.317 8.23399C21.1575 7.62659 21.8828 6.87414 22.459 6.01199C21.676 6.35905 20.8455 6.58691 19.995 6.68799Z"></path></svg></a><a class="text-gray-500" target="_blank" href="https://github.com/mirbostani"><svg viewBox="0 0 30 30" class="w-6 h-6 fill-current"><path d="M15 1.875C7.75195 1.875 1.875 7.9043 1.875 15.334C1.875 21.2812 5.63672 26.3203 10.8516 28.1016C10.9247 28.1175 10.9994 28.1253 11.0742 28.125C11.5605 28.125 11.748 27.7676 11.748 27.457C11.748 27.1348 11.7363 26.291 11.7305 25.166C11.2963 25.2678 10.8522 25.3209 10.4062 25.3242C7.88086 25.3242 7.30664 23.3613 7.30664 23.3613C6.70898 21.8086 5.84766 21.3926 5.84766 21.3926C4.70508 20.5898 5.8418 20.5664 5.92969 20.5664H5.93555C7.25391 20.6836 7.94531 21.9609 7.94531 21.9609C8.60156 23.1094 9.48047 23.4316 10.2656 23.4316C10.7848 23.4213 11.2959 23.3015 11.7656 23.0801C11.8828 22.2129 12.2227 21.6211 12.5977 21.2812C9.68555 20.9414 6.62109 19.7871 6.62109 14.6309C6.62109 13.1602 7.13086 11.959 7.96875 11.0215C7.83398 10.6816 7.38281 9.31055 8.09766 7.45898C8.19354 7.43604 8.29209 7.42619 8.39062 7.42969C8.86523 7.42969 9.9375 7.61133 11.707 8.8418C13.8572 8.24022 16.1311 8.24022 18.2812 8.8418C20.0508 7.61133 21.123 7.42969 21.5977 7.42969C21.6962 7.42619 21.7947 7.43604 21.8906 7.45898C22.6055 9.31055 22.1543 10.6816 22.0195 11.0215C22.8574 11.9648 23.3672 13.166 23.3672 14.6309C23.3672 19.7988 20.2969 20.9355 17.373 21.2695C17.8418 21.6855 18.2637 22.5059 18.2637 23.7598C18.2637 25.5586 18.2461 27.0117 18.2461 27.4512C18.2461 27.7676 18.4277 28.125 18.9141 28.125C18.9928 28.1253 19.0713 28.1175 19.1484 28.1016C24.3691 26.3203 28.125 21.2754 28.125 15.334C28.125 7.9043 22.248 1.875 15 1.875Z"></path></svg></a><a class="text-gray-500" target="_blank" href="https://linkedin.com/in/morteza-mirbostani"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="w-5 h-5 fill-current"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"deploy-static-nextjs-websites-on-github-pages","postData":{"slug":"deploy-static-nextjs-websites-on-github-pages","contentHtml":"\u003ch2\u003eCreate a Next.js Application\u003c/h2\u003e\n\u003cp\u003eNext.js is a modern JavaScript framework that offers server-side rendering (SSR) and static site generation (SSG) features. Using SSG with Next.js enables you to build a static HTML version of your website at the build time. Then, you can deploy it on any webserver (i.e., GitHub Pages and Actions) you like. It makes the page loading process extremely fast for the users. For more information regarding the best practice for creating a static website with Next.js, please consult its \u003ca href=\"https://nextjs.org/docs/advanced-features/static-html-export\"\u003edocumentation\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eCreate a Next.js application based on the blog-starter kit that is provided \u003ca href=\"https://github.com/vercel/next.js/tree/canary/examples\"\u003ehere\u003c/a\u003e. Then, navigate to the project directory and start the development server.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ npx create-next-app mywebsite --use-npm --example \"https://github.com/vercel/next-learn-starter/tree/master/learn-starter\"\n$ cd mywebsite\n$ npx next dev --port 3333\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/post/deploy-static-nextjs-websites-on-github-pages/nextjs-blog-starter.png\" alt=\"nextjs-starter\"\u003e\u003c/p\u003e\n\u003ch2\u003eGenerate a Static Site\u003c/h2\u003e\n\u003cp\u003eYou can modify the application as you like. However, remember that the \u003ccode\u003eexport\u003c/code\u003e command, used for generating static pages, does not support the \u003ccode\u003enext/image\u003c/code\u003e component, as this component relies on Image Optimization API. Possible ways to fix this issue are addressed \u003ca href=\"https://nextjs.org/docs/messages/export-image-api\"\u003ehere\u003c/a\u003e; however, you can use the \u003ccode\u003e\u0026#x3C;img\u003e\u003c/code\u003e HTML tag or the \u003ca href=\"https://github.com/cyrilwanner/next-optimized-images\"\u003enext-optimized-images\u003c/a\u003e package instead of \u003ccode\u003enext/image\u003c/code\u003e. Besides, \u003ca href=\"https://nextjs.org/docs/advanced-features/i18n-routing\"\u003einternationalized (i18n) routing\u003c/a\u003e is not compatible with exported pages either because it uses dynamic routing internally for implementation. The \u003ca href=\"https://github.com/martinkr/next-export-i18n\"\u003enext-export-i18n\u003c/a\u003e package is a suitable alternative.\u003c/p\u003e\n\u003cp\u003eTo build and export your application to the \u003ccode\u003e./dist\u003c/code\u003e directory, use the following commands:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ npx next build\n$ npx next export -o dist/\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eTest on Nginx\u003c/h2\u003e\n\u003cp\u003eAfter exporting a static HTML version of your application, you can test it locally using the Nginx webserver. First, you need to update the package list and install Nginx with these commands:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ sudo apt update\n$ sudo apt install nginx\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe Nginx service will start automatically after a successful installation. Check if the \u003ccode\u003enginx.service\u003c/code\u003e is active and running:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ sudo systemctl status nginx\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can point your browser to the \u003ccode\u003elocalhost\u003c/code\u003e address. The following page should appear in your browser.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post/deploy-static-nextjs-websites-on-github-pages/nginx-active-and-running.png\" alt=\"nginx-active-and-running\"\u003e\u003c/p\u003e\n\u003cp\u003eFor testing purposes, you can now deploy your static website locally using the Nginx webserver. Just copy the \u003ccode\u003edist\u003c/code\u003e directory, which contains your generated static website, to the \u003ccode\u003e/var/www\u003c/code\u003e path.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ cd /path/to/project\n$ sudo cp dist/ /var/www\n$ ls /var/www\ndist  html\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn order to make your website accessible through \u003ccode\u003elocalhost:3000\u003c/code\u003e, you need to set up a virtual host inside the Nginx webserver.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ cd /etc/nginx/sites-available\n$ sudo touch dist\n$ vim dist\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-nginx\"\u003eserver {\n  listen 3000;\n  listen [::]:3000;\n  server_name dist.example.com;\n  root /var/www/dist;\n  index index.html;\n  location / {\n    try_files $uri $uri/ =404;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEnable the virtual host that you've just created by creating a symbolic link inside the \u003ccode\u003esites-enabled\u003c/code\u003e directory.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ cd /etc/nginx/sites-enabled\n$ sudo ln -s /etc/nginx/sites-available/dist dist\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRestart Nginx to make the changes take effect.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ sudo systemctl restart nginx\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can access the website by pointing your browser to the \u003ccode\u003elocalhost:3000\u003c/code\u003e address.\u003c/p\u003e\n\u003ch2\u003ePush to GitHub\u003c/h2\u003e\n\u003cp\u003eCreate a repository with \u003ccode\u003e\u0026#x3C;yourusername.github.io\u003e\u003c/code\u003e structure. You should substitute \u003ccode\u003eyourusername\u003c/code\u003e with your GitHub username.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/post/deploy-static-nextjs-websites-on-github-pages/create-github-repository.png\" alt=\"create-github-repository\"\u003e\u003c/p\u003e\n\u003cp\u003eCreate a local repository and merge it with your remote one:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ mkdir mirbostani.github.io\n$ cd mirbostani.github.io\n$ git init\n$ git branch -M main\n$ git remote add origin https://github.com/mirbostani/mirbostani.github.io.git\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, move the content of the \u003ccode\u003edist\u003c/code\u003e directory to your local repository. If you want to host your website on GitHub Pages, you should create an empty file called \u003ccode\u003e.nojekyll\u003c/code\u003e to prevent GitHub Pages to use Jekyll by default.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003e$ cp -r /path/to/mywebsite/dist /path/to/mirbostani.github.io\n$ cd /path/to/mirbostani.github.io\n$ touch .nojekyll\n$ git add .\n$ git commit -m \"Initial commit\"\n$ git push\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you don't have a custom domain and want to use your GitHub repository name, you should prefix the asset links by modifying the \u003ccode\u003enext.config.js\u003c/code\u003e file. Then, redo the exporting and pushing process.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-js\"\u003econst isProd = process.env.NODE_ENV === \"production\"\n\nmodule.exports = {\n  assetPrefix: isProd ? \"/\u0026#x3C;your-repo-name\u003e/\" : \"\",\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFinally, you can visit your website on \u003ccode\u003eyourusername.github.io\u003c/code\u003e. It should be up and running.\u003c/p\u003e\n","contentMarkdown":"\n## Create a Next.js Application\n\nNext.js is a modern JavaScript framework that offers server-side rendering (SSR) and static site generation (SSG) features. Using SSG with Next.js enables you to build a static HTML version of your website at the build time. Then, you can deploy it on any webserver (i.e., GitHub Pages and Actions) you like. It makes the page loading process extremely fast for the users. For more information regarding the best practice for creating a static website with Next.js, please consult its [documentation](https://nextjs.org/docs/advanced-features/static-html-export).\n\nCreate a Next.js application based on the blog-starter kit that is provided [here](https://github.com/vercel/next.js/tree/canary/examples). Then, navigate to the project directory and start the development server.\n\n```shell\n$ npx create-next-app mywebsite --use-npm --example \"https://github.com/vercel/next-learn-starter/tree/master/learn-starter\"\n$ cd mywebsite\n$ npx next dev --port 3333\n```\n\n![nextjs-starter](/post/deploy-static-nextjs-websites-on-github-pages/nextjs-blog-starter.png)\n\n## Generate a Static Site\n\nYou can modify the application as you like. However, remember that the `export` command, used for generating static pages, does not support the `next/image` component, as this component relies on Image Optimization API. Possible ways to fix this issue are addressed [here](https://nextjs.org/docs/messages/export-image-api); however, you can use the `\u003cimg\u003e` HTML tag or the [next-optimized-images](https://github.com/cyrilwanner/next-optimized-images) package instead of `next/image`. Besides, [internationalized (i18n) routing](https://nextjs.org/docs/advanced-features/i18n-routing) is not compatible with exported pages either because it uses dynamic routing internally for implementation. The [next-export-i18n](https://github.com/martinkr/next-export-i18n) package is a suitable alternative.\n\nTo build and export your application to the `./dist` directory, use the following commands:\n\n```shell\n$ npx next build\n$ npx next export -o dist/\n```\n\n## Test on Nginx\n\nAfter exporting a static HTML version of your application, you can test it locally using the Nginx webserver. First, you need to update the package list and install Nginx with these commands:\n\n```shell\n$ sudo apt update\n$ sudo apt install nginx\n```\n\nThe Nginx service will start automatically after a successful installation. Check if the `nginx.service` is active and running:\n\n```shell\n$ sudo systemctl status nginx\n```\n\nYou can point your browser to the `localhost` address. The following page should appear in your browser.\n\n![nginx-active-and-running](/post/deploy-static-nextjs-websites-on-github-pages/nginx-active-and-running.png)\n\nFor testing purposes, you can now deploy your static website locally using the Nginx webserver. Just copy the `dist` directory, which contains your generated static website, to the `/var/www` path.\n\n```shell\n$ cd /path/to/project\n$ sudo cp dist/ /var/www\n$ ls /var/www\ndist  html\n```\n\nIn order to make your website accessible through `localhost:3000`, you need to set up a virtual host inside the Nginx webserver.\n\n```shell\n$ cd /etc/nginx/sites-available\n$ sudo touch dist\n$ vim dist\n```\n\n```nginx\nserver {\n  listen 3000;\n  listen [::]:3000;\n  server_name dist.example.com;\n  root /var/www/dist;\n  index index.html;\n  location / {\n    try_files $uri $uri/ =404;\n  }\n}\n```\n\nEnable the virtual host that you've just created by creating a symbolic link inside the `sites-enabled` directory.\n\n```shell\n$ cd /etc/nginx/sites-enabled\n$ sudo ln -s /etc/nginx/sites-available/dist dist\n```\n\nRestart Nginx to make the changes take effect.\n\n```shell\n$ sudo systemctl restart nginx\n```\n\nYou can access the website by pointing your browser to the `localhost:3000` address.\n\n## Push to GitHub\n\nCreate a repository with `\u003cyourusername.github.io\u003e` structure. You should substitute `yourusername` with your GitHub username.\n\n![create-github-repository](/post/deploy-static-nextjs-websites-on-github-pages/create-github-repository.png)\n\nCreate a local repository and merge it with your remote one:\n\n```shell\n$ mkdir mirbostani.github.io\n$ cd mirbostani.github.io\n$ git init\n$ git branch -M main\n$ git remote add origin https://github.com/mirbostani/mirbostani.github.io.git\n```\n\nNow, move the content of the `dist` directory to your local repository. If you want to host your website on GitHub Pages, you should create an empty file called `.nojekyll` to prevent GitHub Pages to use Jekyll by default.\n\n```shell\n$ cp -r /path/to/mywebsite/dist /path/to/mirbostani.github.io\n$ cd /path/to/mirbostani.github.io\n$ touch .nojekyll\n$ git add .\n$ git commit -m \"Initial commit\"\n$ git push\n```\n\nIf you don't have a custom domain and want to use your GitHub repository name, you should prefix the asset links by modifying the `next.config.js` file. Then, redo the exporting and pushing process.\n\n```js\nconst isProd = process.env.NODE_ENV === \"production\"\n\nmodule.exports = {\n  assetPrefix: isProd ? \"/\u003cyour-repo-name\u003e/\" : \"\",\n}\n```\n\nFinally, you can visit your website on `yourusername.github.io`. It should be up and running.","readTime":3,"category":"Web Development","title":"Deploy static Next.js websites on GitHub Pages","description":"Use Next.js to develop and export a static HTML version of a website to be hosted on GitHub Pages.","date":"2021-09-16","author":"mirbostani","tags":"nextjs,github"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"deploy-static-nextjs-websites-on-github-pages"},"buildId":"1gQcol4QzniBAuPu1VIUB","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>